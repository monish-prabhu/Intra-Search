var Gs=Object.defineProperty;var bn=r=>{throw TypeError(r)};var Ks=(r,e,t)=>e in r?Gs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var _n=(r,e,t)=>Ks(r,typeof e!="symbol"?e+"":e,t),Ti=(r,e,t)=>e.has(r)||bn("Cannot "+t);var o=(r,e,t)=>(Ti(r,e,"read from private field"),t?t.call(r):e.get(r)),g=(r,e,t)=>e.has(r)?bn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),f=(r,e,t,i)=>(Ti(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t),c=(r,e,t)=>(Ti(r,e,"access private method"),t);var En=(r,e,t,i)=>({set _(n){f(r,e,n,t)},get _(){return o(r,e,i)}});var Rt={};Rt.d=(r,e)=>{for(var t in e)Rt.o(e,t)&&!Rt.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};Rt.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var V=globalThis.pdfjsViewer={};Rt.d(V,{AnnotationLayerBuilder:()=>cs,DownloadManager:()=>Ur,EventBus:()=>ds,FindState:()=>be,GenericL10n:()=>wt,LinkTarget:()=>Fe,PDFFindController:()=>Tr,PDFHistory:()=>Va,PDFLinkService:()=>wi,PDFPageView:()=>Cs,PDFScriptingManager:()=>Ya,PDFSinglePageViewer:()=>io,PDFViewer:()=>Fs,ProgressBar:()=>ar,RenderingStates:()=>B,ScrollMode:()=>k,SimpleLinkService:()=>mn,SpreadMode:()=>K,StructTreeLayerBuilder:()=>Ls,TextLayerBuilder:()=>Pi,XfaLayerBuilder:()=>Rs,parseQueryString:()=>Ii});const Zs="auto",qn=1,wn=1.1,Xs=.1,Qs=10,Ri=0,Js=1.25,yn=40,vn=5,B={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},st={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},ae={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},k={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},K={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};class Ys{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}}function es(r,e,t=!1){let i=r.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let n=r.offsetTop+r.clientTop,s=r.offsetLeft+r.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(n+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(e.top!==void 0&&(n+=e.top),e.left!==void 0&&(s+=e.left,i.scrollLeft=s)),i.scrollTop=n}function qs(r,e,t=void 0){const i=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const h=r.scrollLeft,u=n.lastX;h!==u&&(n.right=h>u),n.lastX=h;const d=r.scrollTop,b=n.lastY;d!==b&&(n.down=d>b),n.lastY=d,e(n)}))},n={right:!0,down:!0,lastX:r.scrollLeft,lastY:r.scrollTop,_eventHandler:i};let s=null;return r.addEventListener("scroll",i,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),n}function Ii(r){const e=new Map;for(const[t,i]of new URLSearchParams(r))e.set(t.toLowerCase(),i);return e}const Pn=/[\x00-\x1F]/g;function Ei(r,e=!1){return Pn.test(r)?e?r.replaceAll(Pn,t=>t==="\0"?"":" "):r.replaceAll("\0",""):r}function Mt(r,e,t=0){let i=t,n=r.length-1;if(n<0||!e(r[n]))return r.length;if(e(r[i]))return i;for(;i<n;){const s=i+n>>1,a=r[s];e(a)?n=s:i=s+1}return i}function xn(r){if(Math.floor(r)===r)return[r,1];const e=1/r,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const i=r>1?e:r;let n=0,s=1,a=1,l=1;for(;;){const u=n+a,d=s+l;if(d>t)break;i<=u/d?(a=u,l=d):(n=u,s=d)}let h;return i-n/s<a/l-i?h=i===r?[n,s]:[s,n]:h=i===r?[a,l]:[l,a],h}function ri(r,e){return r-r%e}function er(r,e,t){if(r<2)return r;let i=e[r].div,n=i.offsetTop+i.clientTop;n>=t&&(i=e[r-1].div,n=i.offsetTop+i.clientTop);for(let s=r-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=n));--s)r=s;return r}function tr({scrollEl:r,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:n=!1}){const s=r.scrollTop,a=s+r.clientHeight,l=r.scrollLeft,h=l+r.clientWidth;function u(N){const P=N.div;return P.offsetTop+P.clientTop+P.clientHeight>s}function d(N){const P=N.div,T=P.offsetLeft+P.clientLeft,O=T+P.clientWidth;return n?T<h:O>l}const b=[],E=new Set,R=e.length;let w=Mt(e,i?d:u);w>0&&w<R&&!i&&(w=er(w,e,s));let I=i?h:-1;for(let N=w;N<R;N++){const P=e[N],T=P.div,O=T.offsetLeft+T.clientLeft,v=T.offsetTop+T.clientTop,x=T.clientWidth,D=T.clientHeight,m=O+x,_=v+D;if(I===-1)_>=a&&(I=_);else if((i?O:v)>I)break;if(_<=s||v>=a||m<=l||O>=h)continue;const S=Math.max(0,s-v)+Math.max(0,_-a),F=Math.max(0,l-O)+Math.max(0,m-h),W=(D-S)/D,X=(x-F)/x,Ws=W*X*100|0;b.push({id:P.id,x:O,y:v,view:P,percent:Ws,widthPercent:X*100|0}),E.add(P.id)}const j=b[0],M=b.at(-1);return t&&b.sort(function(N,P){const T=N.percent-P.percent;return Math.abs(T)>.001?-T:N.id-P.id}),{first:j,last:M,views:b,ids:E}}function ts(r){return Number.isInteger(r)&&r%90===0}function ir(r){return Number.isInteger(r)&&Object.values(k).includes(r)&&r!==k.UNKNOWN}function nr(r){return Number.isInteger(r)&&Object.values(K).includes(r)&&r!==K.UNKNOWN}function Sn(r){return r.width<=r.height}new Promise(function(r){window.requestAnimationFrame(r)});const sr=document.documentElement.style;function rr(r,e,t){return Math.min(Math.max(r,e),t)}var ve,Ve,Be,rt,He;class ar{constructor(e){g(this,ve,null);g(this,Ve,null);g(this,Be,0);g(this,rt,null);g(this,He,!0);f(this,ve,e.classList),f(this,rt,e.style)}get percent(){return o(this,Be)}set percent(e){if(f(this,Be,rr(e,0,100)),isNaN(e)){o(this,ve).add("indeterminate");return}o(this,ve).remove("indeterminate"),o(this,rt).setProperty("--progressBar-percent",`${o(this,Be)}%`)}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&o(this,rt).setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){isNaN(o(this,Be))||(o(this,Ve)&&clearTimeout(o(this,Ve)),this.show(),f(this,Ve,setTimeout(()=>{f(this,Ve,null),this.hide()},e)))}hide(){o(this,He)&&(f(this,He,!1),o(this,ve).add("hidden"))}show(){o(this,He)||(f(this,He,!0),o(this,ve).remove("hidden"))}}ve=new WeakMap,Ve=new WeakMap,Be=new WeakMap,rt=new WeakMap,He=new WeakMap;function or(r){let e=k.VERTICAL,t=K.NONE;switch(r){case"SinglePage":e=k.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=k.PAGE;case"TwoColumnLeft":t=K.ODD;break;case"TwoPageRight":e=k.PAGE;case"TwoColumnRight":t=K.EVEN;break}return{scrollMode:e,spreadMode:t}}const ie={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function lr(r){return r<11904}function hr(r){return(r&65408)===0}function ur(r){return r>=97&&r<=122||r>=65&&r<=90}function cr(r){return r>=48&&r<=57}function dr(r){return r===32||r===9||r===13||r===10}function fr(r){return r>=13312&&r<=40959||r>=63744&&r<=64255}function pr(r){return r>=12448&&r<=12543}function gr(r){return r>=12352&&r<=12447}function mr(r){return r>=65376&&r<=65439}function br(r){return(r&65408)===3584}function ai(r){return lr(r)?hr(r)?dr(r)?ie.SPACE:ur(r)||cr(r)||r===95?ie.ALPHA_LETTER:ie.PUNCT:br(r)?ie.THAI_LETTER:r===160?ie.SPACE:ie.ALPHA_LETTER:fr(r)?ie.HAN_LETTER:pr(r)?ie.KATAKANA_LETTER:gr(r)?ie.HIRAGANA_LETTER:mr(r)?ie.HALFWIDTH_KATAKANA_LETTER:ie.ALPHA_LETTER}let Ln;function _r(){return Ln||(Ln=" ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦"),Ln}const be={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},Er=250,wr=-50,yr=-400,In={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},An=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let Tn;const vr=new RegExp("\\p{M}+","gu"),Pr=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),xr=new RegExp("([^\\p{M}])\\p{M}*$","u"),Sr=new RegExp("^\\p{M}*([^\\p{M}])","u"),Lr=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Rn=new Map,Ir="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",Cn=new Map;let Ci=null,Ni=null;function Mi(r){const e=[];let t;for(;(t=Lr.exec(r))!==null;){let{index:R}=t;for(const w of t[0]){let I=Rn.get(w);I||(I=w.normalize("NFD").length,Rn.set(w,I)),e.push([I,R++])}}let i;if(e.length===0&&Ci)i=Ci;else if(e.length>0&&Ni)i=Ni;else{const R=Object.keys(In).join(""),w=_r(),M=`([${R}])|([${w}])|((?:゙|゚)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[぀-ヿ])\\n)|(\\n)`;e.length===0?i=Ci=new RegExp(M+"|(\\u0000)","gum"):i=Ni=new RegExp(M+`|(${Ir})`,"gum")}const n=[];for(;(t=vr.exec(r))!==null;)n.push([t[0].length,t.index]);let s=r.normalize("NFD");const a=[[0,0]];let l=0,h=0,u=0,d=0,b=0,E=!1;return s=s.replace(i,(R,w,I,j,M,N,P,T,O,v)=>{var x,D,m;if(v-=d,w){const _=In[w],S=_.length;for(let F=1;F<S;F++)a.push([v-u+F,u-F]);return u-=S-1,_}if(I){let _=Cn.get(I);_||(_=I.normalize("NFKC"),Cn.set(I,_));const S=_.length;for(let F=1;F<S;F++)a.push([v-u+F,u-F]);return u-=S-1,_}if(j)return E=!0,v+b===((x=n[l])==null?void 0:x[1])?++l:(a.push([v-1-u+1,u-1]),u-=1,d+=1),a.push([v-u+1,u]),d+=1,b+=1,j.charAt(0);if(M){const _=M.endsWith(`
`),S=_?M.length-2:M.length;E=!0;let F=S;v+b===((D=n[l])==null?void 0:D[1])&&(F-=n[l][0],++l);for(let W=1;W<=F;W++)a.push([v-1-u+W,u-W]);return u-=F,d+=F,_?(v+=S-1,a.push([v-u+1,1+u]),u+=1,d+=1,b+=1,M.slice(0,S)):M}if(N){const _=N.length-2;return a.push([v-u+_,1+u]),u+=1,d+=1,b+=1,N.slice(0,-2)}if(P){const _=P.length-1;return a.push([v-u+_,u]),d+=1,b+=1,P.slice(0,-1)}if(T)return a.push([v-u+1,u-1]),u-=1,d+=1,b+=1," ";if(v+b===((m=e[h])==null?void 0:m[1])){const _=e[h][0]-1;++h;for(let S=1;S<=_;S++)a.push([v-(u-S),u-S]);u-=_,d+=_}return O}),a.push([s.length,u]),[s,a,E]}function Ar(r,e,t){if(!r)return[e,t];const i=e,n=e+t-1;let s=Mt(r,d=>d[0]>=i);r[s][0]>i&&--s;let a=Mt(r,d=>d[0]>=n,s);r[a][0]>n&&--a;const l=i+r[s][1],u=n+r[a][1]+1-l;return[l,u]}var $,at,Ue,y,is,ji,Vi,ns,ss,rs,Bi,as,os,ui,xt,tt,ls,Hi,Ui,ci,hs,$i,zi,St;class Tr{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){g(this,y);g(this,$,null);g(this,at,!0);g(this,Ue,0);this._linkService=e,this._eventBus=t,f(this,at,i),this.onIsPageVisible=null,c(this,y,ji).call(this),t._on("find",c(this,y,is).bind(this)),t._on("findbarclose",c(this,y,hs).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return o(this,$)}setDocument(e){this._pdfDocument&&c(this,y,ji).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:n=-1}){if(!this._scrollMatches||!e)return;if(n===-1||n!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1;const s={top:wr,left:t+yr};es(e,s,!0)}}$=new WeakMap,at=new WeakMap,Ue=new WeakMap,y=new WeakSet,is=function(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(o(this,$)===null||c(this,y,ns).call(this,e))&&(this._dirtyMatch=!0),f(this,$,e),i!=="highlightallchange"&&c(this,y,St).call(this,be.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;c(this,y,os).call(this);const n=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?c(this,y,tt).call(this):i==="again"?(c(this,y,tt).call(this),n&&o(this,$).highlightAll&&c(this,y,xt).call(this)):i==="highlightallchange"?(s?c(this,y,tt).call(this):this._highlightMatches=!0,c(this,y,xt).call(this)):c(this,y,tt).call(this):this._findTimeout=setTimeout(()=>{c(this,y,tt).call(this),this._findTimeout=null},Er)})},ji=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],f(this,Ue,0),f(this,$,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},Vi=function(){const{query:e}=o(this,$);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=Mi(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>Mi(t)[0])},ns=function(e){var a;const t=e.query,i=o(this,$).query,n=typeof t;if(n!==typeof i)return!0;if(n==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const l=this._selected.pageIdx+1,h=this._linkService;return l>=1&&l<=h.pagesCount&&l!==h.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,l))??!0);case"highlightallchange":return!1}return!0},ss=function(e,t,i){let n=e.slice(0,t).match(xr);if(n){const s=e.charCodeAt(t),a=n[1].charCodeAt(0);if(ai(s)===ai(a))return!1}if(n=e.slice(t+i).match(Sr),n){const s=e.charCodeAt(t+i-1),a=n[1].charCodeAt(0);if(ai(s)===ai(a))return!1}return!0},rs=function(e,t,i,n){const s=this._pageMatches[i]=[],a=this._pageMatchesLength[i]=[];if(!e)return;const l=this._pageDiffs[i];let h;for(;(h=e.exec(n))!==null;){if(t&&!c(this,y,ss).call(this,n,h.index,h[0].length))continue;const[u,d]=Ar(l,h.index,h[0].length);d&&(s.push(u),a.push(d))}},Bi=function(e,t){const{matchDiacritics:i}=o(this,$);let n=!1;e=e.replaceAll(Pr,(a,l,h,u,d,b)=>l?`[ ]*\\${l}[ ]*`:h?`[ ]*${h}[ ]*`:u?"[ ]+":i?d||b:d?An.has(d.charCodeAt(0))?d:"":t?(n=!0,`${b}\\p{M}*`):b);const s="[ ]*";return e.endsWith(s)&&(e=e.slice(0,e.length-s.length)),i&&t&&(Tn||(Tn=String.fromCharCode(...An)),n=!0,e=`${e}(?=[${Tn}]|[^\\p{M}]|$)`),[n,e]},as=function(e){let t=o(this,y,Vi);if(t.length===0)return;const{caseSensitive:i,entireWord:n}=o(this,$),s=this._pageContents[e],a=this._hasDiacritics[e];let l=!1;typeof t=="string"?[l,t]=c(this,y,Bi).call(this,t,a):t=t.sort().reverse().map(d=>{const[b,E]=c(this,y,Bi).call(this,d,a);return l||(l=b),`(${E})`}).join("|");const h=`g${l?"u":""}${i?"":"i"}`;t=t?new RegExp(t,h):null,c(this,y,rs).call(this,t,n,e,s),o(this,$).highlightAll&&c(this,y,ui).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,c(this,y,Hi).call(this));const u=this._pageMatches[e].length;this._matchesCountTotal+=u,o(this,at)?u>0&&c(this,y,zi).call(this):++En(this,Ue)._===this._linkService.pagesCount&&c(this,y,zi).call(this)},os=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0};for(let i=0,n=this._linkService.pagesCount;i<n;i++){const{promise:s,resolve:a}=Promise.withResolvers();this._extractTextPromises[i]=s,e=e.then(()=>this._pdfDocument.getPage(i+1).then(l=>l.getTextContent(t)).then(l=>{const h=[];for(const u of l.items)h.push(u.str),u.hasEOL&&h.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=Mi(h.join("")),a()},l=>{console.error(`Unable to get text content for page ${i+1}`,l),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,a()}))}},ui=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},xt=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},tt=function(){const e=o(this,$).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,f(this,Ue,0),this._matchesCountTotal=0,c(this,y,xt).call(this);for(let a=0;a<i;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),c(this,y,as).call(this,a)}))}if(o(this,y,Vi).length===0){c(this,y,St).call(this,be.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,c(this,y,ci).call(this,!0);return}c(this,y,Ui).call(this,e)}c(this,y,Hi).call(this)},ls=function(e){const t=this._offset,i=e.length,n=o(this,$).findPrevious;return i?(t.matchIdx=n?i-1:0,c(this,y,ci).call(this,!0),!0):(c(this,y,Ui).call(this,n),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(c(this,y,ci).call(this,!1),!0):!1)},Hi=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!c(this,y,ls).call(this,e))},Ui=function(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)},ci=function(e=!1){let t=be.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const n=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?be.WRAPPED:be.FOUND,n!==-1&&n!==this._selected.pageIdx&&c(this,y,ui).call(this,n)}c(this,y,St).call(this,t,o(this,$).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,c(this,y,ui).call(this,this._selected.pageIdx))},hs=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),c(this,y,St).call(this,be.FOUND),this._highlightMatches=!1,c(this,y,xt).call(this))})},$i=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let i=0,n=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)i+=((s=this._pageMatches[a])==null?void 0:s.length)||0;i+=t+1}return(i<1||i>n)&&(i=n=0),{current:i,total:n}},zi=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:c(this,y,$i).call(this)})},St=function(e,t=!1){var i,n;!o(this,at)&&(o(this,Ue)!==this._linkService.pagesCount||e===be.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((i=o(this,$))==null?void 0:i.entireWord)??null,matchesCount:c(this,y,$i).call(this),rawQuery:((n=o(this,$))==null?void 0:n.query)??null})};const Rr="noopener noreferrer nofollow",Fe={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};var xi,us;const Si=class Si{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:n=!1}={}){_n(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=n,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,i,n;if(typeof e=="string"?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}const[s]=i;if(s&&typeof s=="object"){if(n=this.pdfDocument.cachedPageNumber(s),!n)try{n=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(n=s+1);if(!n||n<1||n>this.pagesCount){console.error(`goToDestination: "${n}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:n})),this.pdfViewer.scrollPageIntoView({pageNumber:n,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const n=i?Fe.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(n){case Fe.NONE:break;case Fe.SELF:a="_self";break;case Fe.BLANK:a="_blank";break;case Fe.PARENT:a="_parent";break;case Fe.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:Rr}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){var n;if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const s=Ii(e);if(s.has("search")){const a=s.get("search").replaceAll('"',""),l=s.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:l?a:a.match(/\S+/g)})}if(s.has("page")&&(t=s.get("page")|0||1),s.has("zoom")){const a=s.get("zoom").split(","),l=a[0],h=parseFloat(l);l.includes("Fit")?l==="Fit"||l==="FitB"?i=[null,{name:l}]:l==="FitH"||l==="FitBH"||l==="FitV"||l==="FitBV"?i=[null,{name:l},a.length>1?a[1]|0:null]:l==="FitR"?a.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:l},a[1]|0,a[2]|0,a[3]|0,a[4]|0]:console.error(`PDFLinkService.setHash: "${l}" is not a valid zoom value.`):i=[null,{name:"XYZ"},a.length>1?a[1]|0:null,a.length>2?a[2]|0:null,h?h/100:l]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),s.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:s.get("pagemode")}),s.has("nameddest")&&this.goToDestination(s.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||c(n=Si,xi,us).call(n,i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(i=this.pdfHistory)==null||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))}};xi=new WeakSet,us=function(e){if(!Array.isArray(e)||e.length<2)return!1;const[t,i,...n]=e;if(!(typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&Number.isInteger(t==null?void 0:t.gen))&&!Number.isInteger(t)||!(typeof i=="object"&&typeof(i==null?void 0:i.name)=="string"))return!1;let s=!0;switch(i.name){case"XYZ":if(n.length!==3)return!1;break;case"Fit":case"FitB":return n.length===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(n.length!==1)return!1;break;case"FitR":if(n.length!==4)return!1;s=!1;break;default:return!1}for(const a of n)if(!(typeof a=="number"||s&&a===null))return!1;return!0},g(Si,xi);let wi=Si;class mn extends wi{setDocument(e,t=null){}}const{AbortException:Cr,AnnotationEditorLayer:Nr,AnnotationEditorParamsType:so,AnnotationEditorType:we,AnnotationEditorUIManager:Mr,AnnotationLayer:kr,AnnotationMode:ge,build:ro,CMapCompressionType:ao,ColorPicker:oo,createValidAbsoluteUrl:Dr,DOMSVGFactory:lo,DrawLayer:Fr,FeatureTest:ho,fetchData:Nn,getDocument:uo,getFilenameFromUrl:co,getPdfFilenameFromUrl:Or,getXfaPageViewport:fo,GlobalWorkerOptions:po,ImageKind:go,InvalidPDFException:mo,isDataScheme:bo,isPdfFile:jr,MissingPDFException:_o,noContextMenu:Eo,normalizeUnicode:Vr,OPS:wo,Outliner:yo,PasswordResponses:vo,PDFDataRangeTransport:Po,PDFDateString:xo,PDFWorker:So,PermissionFlag:oi,PixelsPerInch:le,RenderingCancelledException:Wi,renderTextLayer:Lo,setLayerDimensions:Br,shadow:yi,TextLayer:Hr,UnexpectedResponseException:Io,updateTextLayer:Ao,Util:To,VerbosityLevel:Ro,version:Mn,XfaLayer:ki}=globalThis.pdfjsLib;var Ft,Pe,Ot,Gi;class cs{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:n=null,imageResourcesPath:s="",renderForms:a=!0,enableScripting:l=!1,hasJSActionsPromise:h=null,fieldObjectsPromise:u=null,annotationCanvasMap:d=null,accessibilityManager:b=null,annotationEditorUIManager:E=null,onAppend:R=null}){g(this,Ot);g(this,Ft,null);g(this,Pe,null);this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=n,this.enableScripting=l,this._hasJSActionsPromise=h||Promise.resolve(!1),this._fieldObjectsPromise=u||Promise.resolve(null),this._annotationCanvasMap=d,this._accessibilityManager=b,this._annotationEditorUIManager=E,f(this,Ft,R),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render(e,t="display"){var l,h;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[i,n,s]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const a=this.div=document.createElement("div");if(a.className="annotationLayer",(l=o(this,Ft))==null||l.call(this,a),i.length===0){this.hide();return}this.annotationLayer=new kr({div:a,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0})}),await this.annotationLayer.render({annotations:i,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:n,fieldObjects:s}),this.linkService.isInPresentationMode&&c(this,Ot,Gi).call(this,st.FULLSCREEN),o(this,Pe)||(f(this,Pe,new AbortController),(h=this._eventBus)==null||h._on("presentationmodechanged",u=>{c(this,Ot,Gi).call(this,u.state)},{signal:o(this,Pe).signal}))}cancel(){var e;this._cancelled=!0,(e=o(this,Pe))==null||e.abort(),f(this,Pe,null)}hide(){this.div&&(this.div.hidden=!0)}}Ft=new WeakMap,Pe=new WeakMap,Ot=new WeakSet,Gi=function(e){if(!this.div)return;let t=!1;switch(e){case st.FULLSCREEN:t=!0;break;case st.NORMAL:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)};function kn(r,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=r,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var gn;class Ur{constructor(){g(this,gn,new WeakMap)}downloadData(e,t,i){const n=URL.createObjectURL(new Blob([e],{type:i}));kn(n,t)}openOrDownloadData(e,t,i=null){const s=jr(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i,n){let s;if(e)s=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!Dr(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}s=t+"#pdfjs.action=download"}kn(s,i)}}gn=new WeakMap;const Dn={EVENT:"event",TIMEOUT:"timeout"};async function $r({target:r,name:e,delay:t=0}){if(typeof r!="object"||!(e&&typeof e=="string")||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:n}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(h),n(u)}const l=r instanceof ds?"_on":"addEventListener";r[l](e,a.bind(null,Dn.EVENT),{signal:s.signal});const h=setTimeout(a.bind(null,Dn.TIMEOUT),t);return i}var ot;class ds{constructor(){g(this,ot,Object.create(null))}on(e,t,i=null){this._on(e,t,{external:!0,once:i==null?void 0:i.once,signal:i==null?void 0:i.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=o(this,ot)[e];if(!i||i.length===0)return;let n;for(const{listener:s,external:a,once:l}of i.slice(0)){if(l&&this._off(e,s),a){(n||(n=[])).push(s);continue}s(t)}if(n){for(const s of n)s(t);n=null}}_on(e,t,i=null){var a;let n=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:l}=i;if(l.aborted){console.error("Cannot use an `aborted` signal.");return}const h=()=>this._off(e,t);n=()=>l.removeEventListener("abort",h),l.addEventListener("abort",h)}((a=o(this,ot))[e]||(a[e]=[])).push({listener:t,external:(i==null?void 0:i.external)===!0,once:(i==null?void 0:i.once)===!0,rmAbort:n})}_off(e,t,i=null){var s;const n=o(this,ot)[e];if(n)for(let a=0,l=n.length;a<l;a++){const h=n[a];if(h.listener===t){(s=h.rmAbort)==null||s.call(h),n.splice(a,1);return}}}}ot=new WeakMap;class Ai{constructor(e){this.value=e}valueOf(){return this.value}}class H extends Ai{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class me extends Ai{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}}class Ct extends Ai{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}}const Fn=100,zr="⁨",Wr="⁩";function Gr(r,e,t){if(t===e||t instanceof me&&e instanceof me&&t.value===e.value)return!0;if(e instanceof me&&typeof t=="string"){let i=r.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function On(r,e,t){return e[t]?Et(r,e[t].value):(r.reportError(new RangeError("No default")),new H)}function Ki(r,e){const t=[],i=Object.create(null);for(const n of e)n.type==="narg"?i[n.name]=kt(r,n.value):t.push(kt(r,n));return{positional:t,named:i}}function kt(r,e){switch(e.type){case"str":return e.value;case"num":return new me(e.value,{minimumFractionDigits:e.precision});case"var":return Kr(r,e);case"mesg":return Zr(r,e);case"term":return Xr(r,e);case"func":return Qr(r,e);case"select":return Jr(r,e);default:return new H}}function Kr(r,{name:e}){let t;if(r.params)if(Object.prototype.hasOwnProperty.call(r.params,e))t=r.params[e];else return new H(`$${e}`);else if(r.args&&Object.prototype.hasOwnProperty.call(r.args,e))t=r.args[e];else return r.reportError(new ReferenceError(`Unknown variable: $${e}`)),new H(`$${e}`);if(t instanceof Ai)return t;switch(typeof t){case"string":return t;case"number":return new me(t);case"object":if(t instanceof Date)return new Ct(t.getTime());default:return r.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new H(`$${e}`)}}function Zr(r,{name:e,attr:t}){const i=r.bundle._messages.get(e);if(!i)return r.reportError(new ReferenceError(`Unknown message: ${e}`)),new H(e);if(t){const n=i.attributes[t];return n?Et(r,n):(r.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new H(`${e}.${t}`))}return i.value?Et(r,i.value):(r.reportError(new ReferenceError(`No value: ${e}`)),new H(e))}function Xr(r,{name:e,attr:t,args:i}){const n=`-${e}`,s=r.bundle._terms.get(n);if(!s)return r.reportError(new ReferenceError(`Unknown term: ${n}`)),new H(n);if(t){const l=s.attributes[t];if(l){r.params=Ki(r,i).named;const h=Et(r,l);return r.params=null,h}return r.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new H(`${n}.${t}`)}r.params=Ki(r,i).named;const a=Et(r,s.value);return r.params=null,a}function Qr(r,{name:e,args:t}){let i=r.bundle._functions[e];if(!i)return r.reportError(new ReferenceError(`Unknown function: ${e}()`)),new H(`${e}()`);if(typeof i!="function")return r.reportError(new TypeError(`Function ${e}() is not callable`)),new H(`${e}()`);try{let n=Ki(r,t);return i(n.positional,n.named)}catch(n){return r.reportError(n),new H(`${e}()`)}}function Jr(r,{selector:e,variants:t,star:i}){let n=kt(r,e);if(n instanceof H)return On(r,t,i);for(const s of t){const a=kt(r,s.key);if(Gr(r,n,a))return Et(r,s.value)}return On(r,t,i)}function fs(r,e){if(r.dirty.has(e))return r.reportError(new RangeError("Cyclic reference")),new H;r.dirty.add(e);const t=[],i=r.bundle._useIsolating&&e.length>1;for(const n of e){if(typeof n=="string"){t.push(r.bundle._transform(n));continue}if(r.placeables++,r.placeables>Fn)throw r.dirty.delete(e),new RangeError(`Too many placeables expanded: ${r.placeables}, max allowed is ${Fn}`);i&&t.push(zr),t.push(kt(r,n).toString(r)),i&&t.push(Wr)}return r.dirty.delete(e),t.join("")}function Et(r,e){return typeof e=="string"?r.bundle._transform(e):fs(r,e)}class Yr{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let n=JSON.stringify(t);return i[n]||(i[n]=new e(this.bundle.locales,t)),i[n]}}function vi(r,e){const t=Object.create(null);for(const[i,n]of Object.entries(r))e.includes(i)&&(t[i]=n.valueOf());return t}const jn=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function qr(r,e){let t=r[0];if(t instanceof H)return new H(`NUMBER(${t.valueOf()})`);if(t instanceof me)return new me(t.valueOf(),{...t.opts,...vi(e,jn)});if(t instanceof Ct)return new me(t.valueOf(),{...vi(e,jn)});throw new TypeError("Invalid argument to NUMBER")}const Vn=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function ea(r,e){let t=r[0];if(t instanceof H)return new H(`DATETIME(${t.valueOf()})`);if(t instanceof Ct)return new Ct(t.valueOf(),{...t.opts,...vi(e,Vn)});if(t instanceof me)return new Ct(t.valueOf(),{...vi(e,Vn)});throw new TypeError("Invalid argument to DATETIME")}const Bn=new Map;function ta(r){const e=Array.isArray(r)?r.join(" "):r;let t=Bn.get(e);return t===void 0&&(t=new Map,Bn.set(e,t)),t}class ia{constructor(e,{functions:t,useIsolating:i=!0,transform:n=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:qr,DATETIME:ea,...t},this._useIsolating=i,this._transform=n,this._intls=ta(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let n=0;n<e.body.length;n++){let s=e.body[n];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let n=new Yr(this,i,t);try{return fs(n,e).toString(n)}catch(s){if(n.errors&&s instanceof Error)return n.errors.push(s),new H().toString(n);throw s}}}const Di=/^(-?[a-zA-Z][\w-]*) *= */gm,Hn=/\.([a-zA-Z][\w-]*) *= */y,na=/\*?\[/y,Fi=/(-?[0-9]+(?:\.([0-9]+))?)/y,sa=/([a-zA-Z][\w-]*)/y,Un=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,ra=/^[A-Z][A-Z0-9_-]*$/,li=/([^{}\n\r]+)/y,aa=/([^\\"\n\r]*)/y,$n=/\\([\\"])/y,zn=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,oa=/^\n+/,Wn=/ +$/,la=/ *\r?\n/g,ha=/( *)$/,ua=/{\s*/y,Gn=/\s*}/y,ca=/\[\s*/y,da=/\s*] */y,fa=/\s*\(\s*/y,pa=/\s*->\s*/y,ga=/\s*:\s*/y,ma=/\s*,?\s*/y,ba=/\s+/y;class _a{constructor(e){this.body=[],Di.lastIndex=0;let t=0;for(;;){let m=Di.exec(e);if(m===null)break;t=Di.lastIndex;try{this.body.push(h(m[1]))}catch(_){if(_ instanceof SyntaxError)continue;throw _}}function i(m){return m.lastIndex=t,m.test(e)}function n(m,_){if(e[t]===m)return t++,!0;if(_)throw new _(`Expected ${m}`);return!1}function s(m,_){if(i(m))return t=m.lastIndex,!0;if(_)throw new _(`Expected ${m.toString()}`);return!1}function a(m){m.lastIndex=t;let _=m.exec(e);if(_===null)throw new SyntaxError(`Expected ${m.toString()}`);return t=m.lastIndex,_}function l(m){return a(m)[1]}function h(m){let _=d(),S=u();if(_===null&&Object.keys(S).length===0)throw new SyntaxError("Expected message value or attributes");return{id:m,value:_,attributes:S}}function u(){let m=Object.create(null);for(;i(Hn);){let _=l(Hn),S=d();if(S===null)throw new SyntaxError("Expected attribute value");m[_]=S}return m}function d(){let m;if(i(li)&&(m=l(li)),e[t]==="{"||e[t]==="}")return b(m?[m]:[],1/0);let _=v();return _?m?b([m,_],_.length):(_.value=x(_.value,oa),b([_],_.length)):m?x(m,Wn):null}function b(m=[],_){for(;;){if(i(li)){m.push(l(li));continue}if(e[t]==="{"){m.push(E());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let X=v();if(X){m.push(X),_=Math.min(_,X.length);continue}break}let S=m.length-1,F=m[S];typeof F=="string"&&(m[S]=x(F,Wn));let W=[];for(let X of m)X instanceof Kn&&(X=X.value.slice(0,X.value.length-_)),X&&W.push(X);return W}function E(){s(ua,SyntaxError);let m=R();if(s(Gn))return m;if(s(pa)){let _=j();return s(Gn,SyntaxError),{type:"select",selector:m,..._}}throw new SyntaxError("Unclosed placeable")}function R(){if(e[t]==="{")return E();if(i(Un)){let[,m,_,S=null]=a(Un);if(m==="$")return{type:"var",name:_};if(s(fa)){let F=w();if(m==="-")return{type:"term",name:_,attr:S,args:F};if(ra.test(_))return{type:"func",name:_,args:F};throw new SyntaxError("Function names must be all upper-case")}return m==="-"?{type:"term",name:_,attr:S,args:[]}:{type:"mesg",name:_,attr:S}}return N()}function w(){let m=[];for(;;){switch(e[t]){case")":return t++,m;case void 0:throw new SyntaxError("Unclosed argument list")}m.push(I()),s(ma)}}function I(){let m=R();return m.type!=="mesg"?m:s(ga)?{type:"narg",name:m.name,value:N()}:m}function j(){let m=[],_=0,S;for(;i(na);){n("*")&&(S=_);let F=M(),W=d();if(W===null)throw new SyntaxError("Expected variant value");m[_++]={key:F,value:W}}if(_===0)return null;if(S===void 0)throw new SyntaxError("Expected default variant");return{variants:m,star:S}}function M(){s(ca,SyntaxError);let m;return i(Fi)?m=P():m={type:"str",value:l(sa)},s(da,SyntaxError),m}function N(){if(i(Fi))return P();if(e[t]==='"')return T();throw new SyntaxError("Invalid expression")}function P(){let[,m,_=""]=a(Fi),S=_.length;return{type:"num",value:parseFloat(m),precision:S}}function T(){n('"',SyntaxError);let m="";for(;;){if(m+=l(aa),e[t]==="\\"){m+=O();continue}if(n('"'))return{type:"str",value:m};throw new SyntaxError("Unclosed string literal")}}function O(){if(i($n))return l($n);if(i(zn)){let[,m,_]=a(zn),S=parseInt(m||_,16);return S<=55295||57344<=S?String.fromCodePoint(S):"�"}throw new SyntaxError("Unknown escape sequence")}function v(){let m=t;switch(s(ba),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return D(e.slice(m,t))}return e[t-1]===" "?D(e.slice(m,t)):!1}function x(m,_){return m.replace(_,"")}function D(m){let _=m.replace(la,`
`),S=ha.exec(m)[1].length;return new Kn(_,S)}}}class Kn{constructor(e,t){this.value=e,this.length=t}}const Ea=/<|&#?\w+;/,wa={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},ya={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function va(r,e){const{value:t}=e;if(typeof t=="string")if(r.localName==="title"&&r.namespaceURI==="http://www.w3.org/1999/xhtml")r.textContent=t;else if(!Ea.test(t))r.textContent=t;else{const i=r.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,Pa(i.content,r)}ps(e,r)}function Pa(r,e){for(const t of r.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=Sa(e,t);r.replaceChild(i,t);continue}if(Ia(t)){const i=La(t);r.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),r.replaceChild(Zi(t),t)}e.textContent="",e.appendChild(r)}function xa(r,e){if(!r)return!1;for(let t of r)if(t.name===e)return!0;return!1}function ps(r,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))Zn(i.name,e,t)&&!xa(r.attributes,i.name)&&e.removeAttribute(i.name);if(r.attributes)for(const i of Array.from(r.attributes))Zn(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function Sa(r,e){const t=e.getAttribute("data-l10n-name"),i=r.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),Zi(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),Zi(e);r.removeChild(i);const n=i.cloneNode(!1);return gs(e,n)}function La(r){const e=r.ownerDocument.createElement(r.localName);return gs(r,e)}function Zi(r){return r.ownerDocument.createTextNode(r.textContent)}function Ia(r){const e=wa[r.namespaceURI];return e&&e.includes(r.localName)}function Zn(r,e,t=null){if(t&&t.includes(r))return!0;const i=ya[e.namespaceURI];if(!i)return!1;const n=r.toLowerCase(),s=e.localName;if(i.global.includes(n))return!0;if(!i[s])return!1;if(i[s].includes(n))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&n==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function gs(r,e){return e.textContent=r.textContent,ps(r,e),e}class Aa extends Array{static from(e){return e instanceof this?e:new this(e)}}class Ta extends Aa{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const i=this[this.length-1];if(i&&(await i).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class Ra{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const i=[];let n=!1;for await(const s of this.bundles){n=!0;const a=Ma(t,s,e,i);if(a.size===0)break;if(typeof console<"u"){const l=s.locales[0],h=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${l}: ${h}`)}}return!n&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i}formatMessages(e){return this.formatWithFallback(e,Na)}formatValues(e){return this.formatWithFallback(e,Ca)}async formatValue(e,t){const[i]=await this.formatValues([{id:e,args:t}]);return i}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=Ta.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function Ca(r,e,t,i){return t.value?r.formatPattern(t.value,i,e):null}function Na(r,e,t,i){const n={value:null,attributes:null};t.value&&(n.value=r.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){n.attributes=new Array(s.length);for(let[a,l]of s.entries()){let h=r.formatPattern(t.attributes[l],i,e);n.attributes[a]={name:l,value:h}}}return n}function Ma(r,e,t,i){const n=[],s=new Set;return t.forEach(({id:a,args:l},h)=>{if(i[h]!==void 0)return;let u=e.getMessage(a);if(u){if(n.length=0,i[h]=r(e,n,u,l),n.length>0&&typeof console<"u"){const d=e.locales[0],b=n.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${b}.`)}}else s.add(a)}),s}const Oe="data-l10n-id",Pt="data-l10n-args",ka=`[${Oe}]`;class Da extends Ra{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Oe,Pt]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(Oe,t),i?e.setAttribute(Pt,JSON.stringify(i)):e.removeAttribute(Pt),e}getAttributes(e){return{id:e.getAttribute(Oe),args:JSON.parse(e.getAttribute(Pt)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const n of this.getTranslatables(i))this.pendingElements.add(n);else i.hasAttribute(Oe)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),i=await this.formatMessages(t);return this.applyTranslations(e,i)}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&va(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(ka));return typeof e.hasAttribute=="function"&&e.hasAttribute(Oe)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Oe),args:JSON.parse(e.getAttribute(Pt)||null)}}}var jt,lt,ht,Q,yt,ms,bs;const Nt=class Nt{constructor({lang:e,isRTL:t},i=null){g(this,jt);g(this,lt,new Set);g(this,ht);g(this,Q);var n,s;f(this,ht,c(n=Nt,yt,ms).call(n,e)),f(this,Q,i),f(this,jt,t??c(s=Nt,yt,bs).call(s,o(this,ht))?"rtl":"ltr")}_setL10n(e){f(this,Q,e)}getLanguage(){return o(this,ht)}getDirection(){return o(this,jt)}async get(e,t=null,i){if(Array.isArray(e))return e=e.map(a=>({id:a})),(await o(this,Q).formatMessages(e)).map(a=>a.value);const n=await o(this,Q).formatMessages([{id:e,args:t}]);return(n==null?void 0:n[0].value)||i}async translate(e){o(this,lt).add(e);try{o(this,Q).connectRoot(e),await o(this,Q).translateRoots()}catch{}}async destroy(){for(const e of o(this,lt))o(this,Q).disconnectRoot(e);o(this,lt).clear(),o(this,Q).pauseObserving()}pause(){o(this,Q).pauseObserving()}resume(){o(this,Q).resumeObserving()}};jt=new WeakMap,lt=new WeakMap,ht=new WeakMap,Q=new WeakMap,yt=new WeakSet,ms=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},bs=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},g(Nt,yt);let Xi=Nt;function Xn(r,e){const t=new _a(e),i=new ia(r),n=i.addResource(t);return n.length&&console.error("L10n errors",n),i}var J,_s,Es,ws,ys,Qi;const je=class je extends Xi{constructor(e){super({lang:e});const t=e?c(je,J,_s).bind(je,"en-us",this.getLanguage()):c(je,J,ys).bind(je,this.getLanguage());this._setL10n(new Da([],t))}};J=new WeakSet,_s=async function*(e,t){const{baseURL:i,paths:n}=await c(this,J,ws).call(this),s=[t];if(e!==t){const a=t.split("-",1)[0];a!==t&&s.push(a),s.push(e)}for(const a of s){const l=await c(this,J,Es).call(this,a,i,n);l?yield l:a==="en-us"&&(yield c(this,J,Qi).call(this,a))}},Es=async function(e,t,i){const n=i[e];if(!n)return null;const s=new URL(n,t),a=await Nn(s,"text");return Xn(e,a)},ws=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await Nn(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},ys=async function*(e){yield c(this,J,Qi).call(this,e)},Qi=async function(e){return Xn(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties…
pdfjs-document-properties-button-label = Document Properties…
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)
pdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-string = { $date }, { $time }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } × { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } × { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing…
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document…
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-string = { $date }, { $time }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text =
    .aria-label = Text Editor
pdfjs-free-text-default-content = Start typing…
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can’t see the image or when it doesn’t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, “A young man sits down at a table to eat a meal”
pdfjs-editor-resizer-label-top-left = Top left corner — resize
pdfjs-editor-resizer-label-top-middle = Top middle — resize
pdfjs-editor-resizer-label-top-right = Top right corner — resize
pdfjs-editor-resizer-label-middle-right = Middle right — resize
pdfjs-editor-resizer-label-bottom-right = Bottom right corner — resize
pdfjs-editor-resizer-label-bottom-middle = Bottom middle — resize
pdfjs-editor-resizer-label-bottom-left = Bottom left corner — resize
pdfjs-editor-resizer-label-middle-left = Middle left — resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all`)},g(je,J);let wt=je;const Fa=1e3,Oa=50,ja=1e3;function Oi(){return document.location.hash}var xe,A,oe,di,fi,Lt,pi,Ji,vs,Ps,Yi,xs,Ss;class Va{constructor({linkService:e,eventBus:t}){g(this,A);g(this,xe,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const n=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,c(this,A,xs).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=Oi(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!c(this,A,Lt).call(this,s,!0)||t){const{hash:l,page:h,rotation:u}=c(this,A,Ji).call(this,!0);if(!l||n||t){c(this,A,oe).call(this,null,!0);return}c(this,A,oe).call(this,{hash:l,page:h,rotation:u},!0);return}const a=s.destination;c(this,A,pi).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(c(this,A,Yi).call(this),this._initialized=!1,c(this,A,Ss).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!c(this,A,fi).call(this,i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const n=e||JSON.stringify(t);if(!n)return;let s=!1;if(this._destination&&(Ba(this._destination.hash,n)||Ha(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(c(this,A,oe).call(this,{dest:t,hash:n,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!c(this,A,fi).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(c(this,A,oe).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||c(this,A,di).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;c(this,A,Lt).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;c(this,A,Lt).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}xe=new WeakMap,A=new WeakSet,oe=function(e,t=!1){const i=t||!this._destination,n={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};c(this,A,pi).call(this,e,n.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const a=document.location.href.split("#",1)[0];a.startsWith("file://")||(s=`${a}#${e.hash}`)}i?window.history.replaceState(n,"",s):window.history.pushState(n,"",s)},di=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){c(this,A,oe).call(this,t);return}if(this._destination.temporary){c(this,A,oe).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=Oa)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}c(this,A,oe).call(this,t,i)},fi=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},Lt=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if((i==null?void 0:i.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},pi=function(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},Ji=function(e=!1){const t=unescape(Oi()).substring(1),i=Ii(t),n=i.get("nameddest")||"";let s=i.get("page")|0;return(!c(this,A,fi).call(this,s)||e&&n.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},vs=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||c(this,A,di).call(this,!0),this._updateViewareaTimeout=null},ja))},Ps=function({state:e}){const t=Oi(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:l}=c(this,A,Ji).call(this);c(this,A,oe).call(this,{hash:s,page:a,rotation:l},!0);return}if(!c(this,A,Lt).call(this,e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,$r({target:window,name:"hashchange",delay:Fa}).then(()=>{this._blockHashChange--}));const n=e.destination;c(this,A,pi).call(this,n,e.uid,!0),ts(n.rotation)&&(this.linkService.rotation=n.rotation),n.dest?this.linkService.goToDestination(n.dest):n.hash?this.linkService.setHash(n.hash):n.page&&(this.linkService.page=n.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},Yi=function(){(!this._destination||this._destination.temporary)&&c(this,A,di).call(this)},xs=function(){if(o(this,xe))return;f(this,xe,new AbortController);const{signal:e}=o(this,xe);this.eventBus._on("updateviewarea",c(this,A,vs).bind(this),{signal:e}),window.addEventListener("popstate",c(this,A,Ps).bind(this),{signal:e}),window.addEventListener("pagehide",c(this,A,Yi).bind(this),{signal:e})},Ss=function(){var e;(e=o(this,xe))==null||e.abort(),f(this,xe,null)};function Ba(r,e){return typeof r!="string"||typeof e!="string"?!1:r===e||Ii(r).get("nameddest")===e}function Ha(r,e){function t(i,n){if(typeof i!=typeof n||Array.isArray(i)||Array.isArray(n))return!1;if(i!==null&&typeof i=="object"&&n!==null){if(Object.keys(i).length!==Object.keys(n).length)return!1;for(const s in i)if(!t(i[s],n[s]))return!1;return!0}return i===n||Number.isNaN(i)&&Number.isNaN(n)}if(!(Array.isArray(r)&&Array.isArray(e))||r.length!==e.length)return!1;for(let i=0,n=r.length;i<n;i++)if(!t(r[i],e[i]))return!1;return!0}var Vt,Bt,Ht,Ut,ut;class Ua{constructor(e){g(this,Vt,null);g(this,Bt,null);g(this,Ht,null);g(this,Ut,null);g(this,ut);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new wt),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,f(this,ut,e.uiManager),f(this,Vt,e.annotationLayer||null),f(this,Ut,e.textLayer||null),f(this,Bt,e.drawLayer||null),f(this,Ht,e.onAppend||null)}async render(e,t="display"){var a;if(t!=="display"||this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}const n=this.div=document.createElement("div");n.className="annotationEditorLayer",n.hidden=!0,n.dir=o(this,ut).direction,(a=o(this,Ht))==null||a.call(this,n),this.annotationEditorLayer=new Nr({uiManager:o(this,ut),div:n,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:o(this,Vt),textLayer:o(this,Ut),drawLayer:o(this,Bt)});const s={viewport:i,div:n,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}}Vt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,Ut=new WeakMap,ut=new WeakMap;{var Dt=Object.create(null);const r=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,i=/Android/.test(r),n=/\b(iPad|iPhone|iPod)(?=;)/.test(r)||e==="MacIntel"&&t>1;(function(){(n||i)&&(Dt.maxCanvasPixels=5242880)})()}const p={BROWSER:1,VIEWER:2,API:4,WORKER:8,PREFERENCE:128},ke={canvasMaxAreaInBytes:{value:-1,kind:p.BROWSER+p.API},isInAutomation:{value:!1,kind:p.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:p.BROWSER},supportsDocumentFonts:{value:!0,kind:p.BROWSER},supportsIntegratedFind:{value:!1,kind:p.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:p.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:p.BROWSER},supportsPinchToZoom:{value:!0,kind:p.BROWSER},annotationEditorMode:{value:0,kind:p.VIEWER+p.PREFERENCE},annotationMode:{value:2,kind:p.VIEWER+p.PREFERENCE},cursorToolOnLoad:{value:0,kind:p.VIEWER+p.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:p.VIEWER},defaultZoomDelay:{value:400,kind:p.VIEWER+p.PREFERENCE},defaultZoomValue:{value:"",kind:p.VIEWER+p.PREFERENCE},disableHistory:{value:!1,kind:p.VIEWER},disablePageLabels:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableHighlightEditor:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableHighlightFloatingButton:{value:!1,kind:p.VIEWER+p.PREFERENCE},enableML:{value:!1,kind:p.VIEWER+p.PREFERENCE},enablePermissions:{value:!1,kind:p.VIEWER+p.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:p.VIEWER+p.PREFERENCE},enableScripting:{value:!0,kind:p.VIEWER+p.PREFERENCE},enableStampEditor:{value:!0,kind:p.VIEWER+p.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:p.VIEWER},externalLinkTarget:{value:0,kind:p.VIEWER+p.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:p.VIEWER+p.PREFERENCE},historyUpdateUrl:{value:!1,kind:p.VIEWER+p.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:p.VIEWER+p.PREFERENCE},imageResourcesPath:{value:"./images/",kind:p.VIEWER},maxCanvasPixels:{value:2**25,kind:p.VIEWER},forcePageColors:{value:!1,kind:p.VIEWER+p.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:p.VIEWER+p.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:p.VIEWER+p.PREFERENCE},pdfBugEnabled:{value:!1,kind:p.VIEWER+p.PREFERENCE},printResolution:{value:150,kind:p.VIEWER},sidebarViewOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},scrollModeOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},spreadModeOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},textLayerMode:{value:1,kind:p.VIEWER+p.PREFERENCE},viewOnLoad:{value:0,kind:p.VIEWER+p.PREFERENCE},cMapPacked:{value:!0,kind:p.API},cMapUrl:{value:"../web/cmaps/",kind:p.API},disableAutoFetch:{value:!1,kind:p.API+p.PREFERENCE},disableFontFace:{value:!1,kind:p.API+p.PREFERENCE},disableRange:{value:!1,kind:p.API+p.PREFERENCE},disableStream:{value:!1,kind:p.API+p.PREFERENCE},docBaseUrl:{value:"",kind:p.API},enableHWA:{value:!0,kind:p.API+p.VIEWER+p.PREFERENCE},enableXfa:{value:!0,kind:p.API+p.PREFERENCE},fontExtraProperties:{value:!1,kind:p.API},isEvalSupported:{value:!0,kind:p.API},isOffscreenCanvasSupported:{value:!0,kind:p.API},maxImageSize:{value:-1,kind:p.API},pdfBug:{value:!1,kind:p.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:p.API},verbosity:{value:1,kind:p.API},workerPort:{value:null,kind:p.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:p.WORKER}};ke.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:p.VIEWER},ke.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:p.VIEWER},ke.viewerCssTheme={value:0,kind:p.VIEWER+p.PREFERENCE};ke.disablePreferences={value:!1,kind:p.VIEWER},ke.locale={value:navigator.language||"en-US",kind:p.VIEWER};const _e=Object.create(null);for(const r in Dt)_e[r]=Dt[r];class $a{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(e){var t;return _e[e]??((t=ke[e])==null?void 0:t.value)??void 0}static getAll(e=null,t=!1){const i=Object.create(null);for(const n in ke){const s=ke[n];e&&!(e&s.kind)||(i[n]=t?s.value:_e[n]??s.value)}return i}static set(e,t){_e[e]=t}static setAll(e,t=!1){if(t){if(this.get("disablePreferences"))return;for(const i in _e)if(Dt[i]===void 0){console.warn('setAll: The Preferences may override manually set AppOptions; please use the "disablePreferences"-option in order to prevent that.');break}}for(const i in e)_e[i]=e[i]}static remove(e){delete _e[e];const t=Dt[e];t!==void 0&&(_e[e]=t)}}var ne;class za{constructor(e){g(this,ne,null);this.pageIndex=e.pageIndex}async render(e="display"){e!=="display"||o(this,ne)||this._cancelled||f(this,ne,new Fr({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,o(this,ne)&&(o(this,ne).destroy(),f(this,ne,null))}setParent(e){var t;(t=o(this,ne))==null||t.setParent(e)}getDrawLayer(){return o(this,ne)}}ne=new WeakMap;const Qn={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Wa=/^H(\d+)$/;var Y,De,qi,en;class Ls{constructor(){g(this,De);g(this,Y)}get renderingDone(){return o(this,Y)!==void 0}render(e){if(o(this,Y)!==void 0)return o(this,Y);const t=c(this,De,en).call(this,e);return t==null||t.classList.add("structTree"),f(this,Y,t)}hide(){o(this,Y)&&!o(this,Y).hidden&&(o(this,Y).hidden=!0)}show(){var e;(e=o(this,Y))!=null&&e.hidden&&(o(this,Y).hidden=!1)}}Y=new WeakMap,De=new WeakSet,qi=function(e,t){const{alt:i,id:n,lang:s}=e;i!==void 0&&t.setAttribute("aria-label",Ei(i)),n!==void 0&&t.setAttribute("aria-owns",n),s!==void 0&&t.setAttribute("lang",Ei(s,!0))},en=function(e){if(!e)return null;const t=document.createElement("span");if("role"in e){const{role:i}=e,n=i.match(Wa);n?(t.setAttribute("role","heading"),t.setAttribute("aria-level",n[1])):Qn[i]&&t.setAttribute("role",Qn[i])}if(c(this,De,qi).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])c(this,De,qi).call(this,e.children[0],t);else for(const i of e.children)t.append(c(this,De,en).call(this,i));return t};var he,q,ue,Se,ct,gi,$t,nn;const nt=class nt{constructor(){g(this,$t);g(this,he,!1);g(this,q,null);g(this,ue,new Map);g(this,Se,new Map)}setTextMapping(e){f(this,q,e)}enable(){if(o(this,he))throw new Error("TextAccessibilityManager is already enabled.");if(!o(this,q))throw new Error("Text divs and strings have not been set.");if(f(this,he,!0),f(this,q,o(this,q).slice()),o(this,q).sort(c(nt,ct,gi)),o(this,ue).size>0){const e=o(this,q);for(const[t,i]of o(this,ue)){if(!document.getElementById(t)){o(this,ue).delete(t);continue}c(this,$t,nn).call(this,t,e[i])}}for(const[e,t]of o(this,Se))this.addPointerInTextLayer(e,t);o(this,Se).clear()}disable(){o(this,he)&&(o(this,Se).clear(),f(this,q,null),f(this,he,!1))}removePointerInTextLayer(e){if(!o(this,he)){o(this,Se).delete(e);return}const t=o(this,q);if(!t||t.length===0)return;const{id:i}=e,n=o(this,ue).get(i);if(n===void 0)return;const s=t[n];o(this,ue).delete(i);let a=s.getAttribute("aria-owns");a!=null&&a.includes(i)&&(a=a.split(" ").filter(l=>l!==i).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!o(this,he))return o(this,Se).set(e,t),null;t&&this.removePointerInTextLayer(e);const n=o(this,q);if(!n||n.length===0)return null;const s=Mt(n,u=>{var d;return c(d=nt,ct,gi).call(d,e,u)<0}),a=Math.max(0,s-1),l=n[a];c(this,$t,nn).call(this,i,l),o(this,ue).set(i,a);const h=l.parentNode;return h!=null&&h.classList.contains("markedContent")?h.id:null}moveElementInDOM(e,t,i,n){const s=this.addPointerInTextLayer(i,n);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(u=>u!==t);if(a.length===0)return s;const l=i||t,h=Mt(a,u=>{var d;return c(d=nt,ct,gi).call(d,l,u)<0});return h===0?a[0].before(t):a[h-1].after(t),s}};he=new WeakMap,q=new WeakMap,ue=new WeakMap,Se=new WeakMap,ct=new WeakSet,gi=function(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(n.width===0&&n.height===0)return-1;const s=i.y,a=i.y+i.height,l=i.y+i.height/2,h=n.y,u=n.y+n.height,d=n.y+n.height/2;if(l<=h&&d>=a)return-1;if(d<=s&&l>=u)return 1;const b=i.x+i.width/2,E=n.x+n.width/2;return b-E},$t=new WeakSet,nn=function(e,t){const i=t.getAttribute("aria-owns");i!=null&&i.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")},g(nt,ct);let tn=nt;var Le;class Ga{constructor({findController:e,eventBus:t,pageIndex:i}){g(this,Le,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,o(this,Le)||(f(this,Le,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:o(this,Le).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=o(this,Le))==null||e.abort(),f(this,Le,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let n=0,s=0;const a=i.length-1,l=[];for(let h=0,u=e.length;h<u;h++){let d=e[h];for(;n!==a&&d>=s+i[n].length;)s+=i[n].length,n++;n===i.length&&console.error("Could not find a matching mapping");const b={begin:{divIdx:n,offset:d-s}};for(d+=t[h];n!==a&&d>s+i[n].length;)s+=i[n].length,n++;b.end={divIdx:n,offset:d-s},l.push(b)}return l}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:n,textDivs:s}=this,a=i===t.selected.pageIdx,l=t.selected.matchIdx,h=t.state.highlightAll;let u=null;const d={divIdx:-1,offset:void 0};function b(M,N){const P=M.divIdx;return s[P].textContent="",E(P,0,M.offset,N)}function E(M,N,P,T){let O=s[M];if(O.nodeType===Node.TEXT_NODE){const D=document.createElement("span");O.before(D),D.append(O),s[M]=D,O=D}const v=n[M].substring(N,P),x=document.createTextNode(v);if(T){const D=document.createElement("span");return D.className=`${T} appended`,D.append(x),O.append(D),T.includes("selected")?D.offsetLeft:0}return O.append(x),0}let R=l,w=R+1;if(h)R=0,w=e.length;else if(!a)return;let I=-1,j=-1;for(let M=R;M<w;M++){const N=e[M],P=N.begin;if(P.divIdx===I&&P.offset===j)continue;I=P.divIdx,j=P.offset;const T=N.end,O=a&&M===l,v=O?" selected":"";let x=0;if(!u||P.divIdx!==u.divIdx?(u!==null&&E(u.divIdx,u.offset,d.offset),b(P)):E(u.divIdx,u.offset,P.offset),P.divIdx===T.divIdx)x=E(P.divIdx,P.offset,T.offset,"highlight"+v);else{x=E(P.divIdx,P.offset,d.offset,"highlight begin"+v);for(let D=P.divIdx+1,m=T.divIdx;D<m;D++)s[D].className="highlight middle"+v;b(T,"highlight end"+v)}u=T,O&&t.scrollMatchIntoView({element:s[P.divIdx],selectedLeft:x,pageIndex:i,matchIndex:l})}u&&E(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:n}=this,{textContentItemsStr:s,textDivs:a}=this;let l=-1;for(const d of i){const b=Math.max(l,d.begin.divIdx);for(let E=b,R=d.end.divIdx;E<=R;E++){const w=a[E];w.textContent=s[E],w.className=""}l=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const h=t.pageMatches[n]||null,u=t.pageMatchesLength[n]||null;this.matches=this._convertMatches(h,u),this._renderMatches(this.matches)}}Le=new WeakMap;var zt,Wt,$e,se,ee,Ie,Li,Is,vt,As,Ts;const ye=class ye{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:n=!1,onAppend:s=null}){g(this,Li);g(this,zt,!1);g(this,Wt,null);g(this,$e,!1);g(this,se,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,f(this,zt,n===!0),f(this,Wt,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render(e,t=null){var a,l,h,u,d;if(o(this,$e)&&o(this,se)){o(this,se).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),f(this,se,new Hr({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:i,textContentItemsStr:n}=o(this,se);(a=this.highlighter)==null||a.setTextMapping(i,n),(l=this.accessibilityManager)==null||l.setTextMapping(i),await o(this,se).render(),f(this,$e,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),c(this,Li,Is).call(this,s),(h=o(this,Wt))==null||h.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&o(this,$e)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&o(this,$e)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,i,n;(e=o(this,se))==null||e.cancel(),f(this,se,null),(t=this.highlighter)==null||t.disable(),(i=this.accessibilityManager)==null||i.disable(),c(n=ye,vt,As).call(n,this.div)}};zt=new WeakMap,Wt=new WeakMap,$e=new WeakMap,se=new WeakMap,ee=new WeakMap,Ie=new WeakMap,Li=new WeakSet,Is=function(e){var i;const{div:t}=this;t.addEventListener("mousedown",n=>{e.classList.add("active")}),t.addEventListener("copy",n=>{if(!o(this,zt)){const s=document.getSelection();n.clipboardData.setData("text/plain",Ei(Vr(s.toString())))}n.preventDefault(),n.stopPropagation()}),o(ye,ee).set(t,e),c(i=ye,vt,Ts).call(i)},vt=new WeakSet,As=function(e){var t;o(this,ee).delete(e),o(this,ee).size===0&&((t=o(this,Ie))==null||t.abort(),f(this,Ie,null))},Ts=function(){if(o(this,Ie))return;f(this,Ie,new AbortController);const{signal:e}=o(this,Ie),t=(s,a)=>{a.append(s),s.style.width="",s.style.height="",s.classList.remove("active")};document.addEventListener("pointerup",()=>{o(this,ee).forEach(t)},{signal:e});var i,n;document.addEventListener("selectionchange",()=>{const s=document.getSelection();if(s.rangeCount===0){o(this,ee).forEach(t);return}const a=new Set;for(let E=0;E<s.rangeCount;E++){const R=s.getRangeAt(E);for(const w of o(this,ee).keys())!a.has(w)&&R.intersectsNode(w)&&a.add(w)}for(const[E,R]of o(this,ee))a.has(E)?R.classList.add("active"):t(R,E);if(i??(i=getComputedStyle(o(this,ee).values().next().value).getPropertyValue("-moz-user-select")==="none"),i)return;const l=s.getRangeAt(0),h=n&&(l.compareBoundaryPoints(Range.END_TO_END,n)===0||l.compareBoundaryPoints(Range.START_TO_END,n)===0);let u=h?l.startContainer:l.endContainer;u.nodeType===Node.TEXT_NODE&&(u=u.parentNode);const d=u.parentElement.closest(".textLayer"),b=o(this,ee).get(d);b&&(b.style.width=d.style.width,b.style.height=d.style.height,u.parentElement.insertBefore(b,h?u:u.nextSibling)),n=l.cloneRange()},{signal:e})},g(ye,vt),g(ye,ee,new Map),g(ye,Ie,null);let Pi=ye;class Rs{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:n=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=n,this.div=null,this._cancelled=!1}async render(e,t="display"){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,ki.render(s)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const n={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?ki.update(n):(this.div=document.createElement("div"),n.div=this.div,ki.render(n))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const Ka={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new mn}},Za=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var ze,Gt,We,Ae,Te,Kt,Ge,dt,ft,ce,Ke,Re,C,it,mi,It,sn,rn,an,on,ln,Ns,Ms,hn;class Cs{constructor(e){g(this,C);g(this,ze,ge.ENABLE_FORMS);g(this,Gt,!1);g(this,We,!1);g(this,Ae,null);g(this,Te,null);g(this,Kt,null);g(this,Ge,null);g(this,dt,B.INITIAL);g(this,ft,ae.ENABLE);g(this,ce,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});g(this,Ke,new WeakMap);g(this,Re,[null,null,null,null]);var s;const t=e.container,i=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,f(this,Ae,e.layerProperties||Ka),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||qn,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,f(this,ft,e.textLayerMode??ae.ENABLE),f(this,ze,e.annotationMode??ge.ENABLE_FORMS),this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??$a.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,f(this,Gt,e.enableHWA||!1),this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||(this.l10n=new wt),this.renderTask=null,this.resume=null,this._isStandalone=!((s=this.renderingQueue)!=null&&s.hasViewer()),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;const n=document.createElement("div");if(n.className="page",n.setAttribute("data-page-number",this.id),n.setAttribute("role","region"),n.setAttribute("data-l10n-id","pdfjs-page-landmark"),n.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=n,c(this,C,mi).call(this),t==null||t.append(n),this._isStandalone){t==null||t.style.setProperty("--scale-factor",this.scale*le.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:a}=e;a&&a.then(l=>{a===this._optionalContentConfigPromise&&(o(this,ce).initialOptionalContent=l.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}get renderingState(){return o(this,dt)}set renderingState(e){if(e!==o(this,dt))switch(f(this,dt,e),o(this,Te)&&(clearTimeout(o(this,Te)),f(this,Te,null)),e){case B.PAUSED:this.div.classList.remove("loading");break;case B.RUNNING:this.div.classList.add("loadingIcon"),f(this,Te,setTimeout(()=>{this.div.classList.add("loading"),f(this,Te,null)},0));break;case B.INITIAL:case B.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}setPdfPage(e){var i,n,s,a;this._isStandalone&&(((i=this.pageColors)==null?void 0:i.foreground)==="CanvasText"||((n=this.pageColors)==null?void 0:n.background)==="Canvas")&&((s=this._container)==null||s.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(a=this._container)==null||a.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;const t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*le.PDF_TO_CSS_UNITS,rotation:t}),c(this,C,mi).call(this),this.reset()}destroy(){var e;this.reset(),(e=this.pdfPage)==null||e.cleanup()}get _textHighlighter(){return yi(this,"_textHighlighter",new Ga({pageIndex:this.id-1,eventBus:this.eventBus,findController:o(this,Ae).findController}))}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;o(this,Ke).delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:n=!1,keepTextLayer:s=!1}={}){var R,w,I,j,M;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:n,keepTextLayer:s}),this.renderingState=B.INITIAL;const a=this.div,l=a.childNodes,h=e&&this.zoomLayer||null,u=t&&((R=this.annotationLayer)==null?void 0:R.div)||null,d=i&&((w=this.annotationEditorLayer)==null?void 0:w.div)||null,b=n&&((I=this.xfaLayer)==null?void 0:I.div)||null,E=s&&((j=this.textLayer)==null?void 0:j.div)||null;for(let N=l.length-1;N>=0;N--){const P=l[N];switch(P){case h:case u:case d:case b:case E:continue}P.remove();const T=o(this,Re).indexOf(P);T>=0&&(o(this,Re)[T]=null)}a.removeAttribute("data-loaded"),u&&this.annotationLayer.hide(),d&&this.annotationEditorLayer.hide(),b&&this.xfaLayer.hide(),E&&this.textLayer.hide(),(M=this.structTreeLayer)==null||M.hide(),h||(this.canvas&&(o(this,Ke).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:i=null,drawingDelay:n=-1}){var a;this.scale=e||this.scale,typeof t=="number"&&(this.rotation=t),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(l=>{i===this._optionalContentConfigPromise&&(o(this,ce).initialOptionalContent=l.hasInitialVisibility)})),o(this,ce).directDrawing=!0;const s=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*le.PDF_TO_CSS_UNITS,rotation:s}),c(this,C,mi).call(this),this._isStandalone&&((a=this._container)==null||a.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let l=!1;if(o(this,We)){if(this.maxCanvasPixels===0)l=!0;else if(this.maxCanvasPixels>0){const{width:u,height:d}=this.viewport,{sx:b,sy:E}=this.outputScale;l=(Math.floor(u)*b|0)*(Math.floor(d)*E|0)>this.maxCanvasPixels}}const h=n>=0&&n<1e3;if(h||l){if(h&&!l&&this.renderingState!==B.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:n}),this.renderingState=B.FINISHED,o(this,ce).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:o(this,Ge)});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:n=!1,cancelExtraDelay:s=0}={}){var a;this.renderTask&&(this.renderTask.cancel(s),this.renderTask=null),this.resume=null,this.textLayer&&(!n||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(a=this._textHighlighter)==null||a.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:n=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var h;if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);const{style:u}=e;u.width=u.height=""}const l=o(this,Ke).get(e);if(this.viewport!==l){const u=this.viewport.rotation-l.rotation,d=Math.abs(u);let b=1,E=1;if(d===90||d===270){const{width:R,height:w}=this.viewport;b=w/R,E=R/w}e.style.transform=`rotate(${u}deg) scale(${b}, ${E})`}t&&this.annotationLayer&&c(this,C,sn).call(this),i&&this.annotationEditorLayer&&(this.drawLayer&&c(this,C,an).call(this),c(this,C,rn).call(this)),n&&this.xfaLayer&&c(this,C,on).call(this),this.textLayer&&(a?(this.textLayer.hide(),(h=this.structTreeLayer)==null||h.hide()):s&&c(this,C,ln).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}async draw(){this.renderingState!==B.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:e,l10n:t,pageColors:i,pdfPage:n,viewport:s}=this;if(!n)throw this.renderingState=B.FINISHED,new Error("pdfPage is not loaded");this.renderingState=B.RUNNING;const a=document.createElement("div");if(a.classList.add("canvasWrapper"),c(this,C,it).call(this,a,"canvasWrapper"),!this.textLayer&&o(this,ft)!==ae.DISABLE&&!n.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new tn),this.textLayer=new Pi({pdfPage:n,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:o(this,ft)===ae.ENABLE_PERMISSIONS,onAppend:v=>{this.l10n.pause(),c(this,C,it).call(this,v,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&o(this,ze)!==ge.DISABLE){const{annotationStorage:v,annotationEditorUIManager:x,downloadManager:D,enableScripting:m,fieldObjectsPromise:_,hasJSActionsPromise:S,linkService:F}=o(this,Ae);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new cs({pdfPage:n,annotationStorage:v,imageResourcesPath:this.imageResourcesPath,renderForms:o(this,ze)===ge.ENABLE_FORMS,linkService:F,downloadManager:D,enableScripting:m,hasJSActionsPromise:S,fieldObjectsPromise:_,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:x,onAppend:W=>{c(this,C,it).call(this,W,"annotationLayer")}})}const l=v=>{if(E==null||E(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=B.PAUSED,this.resume=()=>{this.renderingState=B.RUNNING,v()};return}v()},{width:h,height:u}=s,d=document.createElement("canvas");d.setAttribute("role","presentation"),d.hidden=!0;const b=!!(i!=null&&i.background&&(i!=null&&i.foreground));let E=v=>{(!b||v)&&(d.hidden=!1,E=null)};a.append(d),this.canvas=d;const R=d.getContext("2d",{alpha:!1,willReadFrequently:!o(this,Gt)}),w=this.outputScale=new Ys;if(this.maxCanvasPixels===0){const v=1/this.scale;w.sx*=v,w.sy*=v,f(this,We,!0)}else if(this.maxCanvasPixels>0){const v=h*u,x=Math.sqrt(this.maxCanvasPixels/v);w.sx>x||w.sy>x?(w.sx=x,w.sy=x,f(this,We,!0)):f(this,We,!1)}const I=xn(w.sx),j=xn(w.sy);d.width=ri(h*w.sx,I[0]),d.height=ri(u*w.sy,j[0]);const{style:M}=d;M.width=ri(h,I[1])+"px",M.height=ri(u,j[1])+"px",o(this,Ke).set(d,s);const N=w.scaled?[w.sx,0,0,w.sy,0,0]:null,P={canvasContext:R,transform:N,viewport:s,annotationMode:o(this,ze),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:i},T=this.renderTask=n.render(P);T.onContinue=l;const O=T.promise.then(async()=>{var x;E==null||E(!0),await c(this,C,hn).call(this,T),c(this,C,ln).call(this),this.annotationLayer&&await c(this,C,sn).call(this);const{annotationEditorUIManager:v}=o(this,Ae);v&&(this.drawLayer||(this.drawLayer=new za({pageIndex:this.id})),await c(this,C,an).call(this),this.drawLayer.setParent(a),this.annotationEditorLayer||(this.annotationEditorLayer=new Ua({uiManager:v,pdfPage:n,l10n:t,accessibilityManager:this._accessibilityManager,annotationLayer:(x=this.annotationLayer)==null?void 0:x.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:D=>{c(this,C,it).call(this,D,"annotationEditorLayer")}})),c(this,C,rn).call(this))},v=>(v instanceof Wi||E==null||E(!0),c(this,C,hn).call(this,T,v)));if(n.isPureXfa){if(!this.xfaLayer){const{annotationStorage:v,linkService:x}=o(this,Ae);this.xfaLayer=new Rs({pdfPage:n,annotationStorage:v,linkService:x})}c(this,C,on).call(this)}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),O}setPageLabel(e){this.pageLabel=typeof e=="string"?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=o(this,ce);return e&&t&&i?this.canvas:null}}ze=new WeakMap,Gt=new WeakMap,We=new WeakMap,Ae=new WeakMap,Te=new WeakMap,Kt=new WeakMap,Ge=new WeakMap,dt=new WeakMap,ft=new WeakMap,ce=new WeakMap,Ke=new WeakMap,Re=new WeakMap,C=new WeakSet,it=function(e,t){const i=Za.get(t),n=o(this,Re)[i];if(o(this,Re)[i]=e,n){n.replaceWith(e);return}for(let s=i-1;s>=0;s--){const a=o(this,Re)[s];if(a){a.after(e);return}}this.div.prepend(e)},mi=function(){const{viewport:e}=this;if(this.pdfPage){if(o(this,Kt)===e.rotation)return;f(this,Kt,e.rotation)}Br(this.div,e,!0,!1)},It=function(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})},sn=async function(){let e=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{c(this,C,It).call(this,"annotationlayerrendered",e)}},rn=async function(){let e=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{c(this,C,It).call(this,"annotationeditorlayerrendered",e)}},an=async function(){try{await this.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}},on=async function(){var t;let e=null;try{const i=await this.xfaLayer.render(this.viewport,"display");i!=null&&i.textDivs&&this._textHighlighter&&c(this,C,Ms).call(this,i.textDivs)}catch(i){console.error(`#renderXfaLayer: "${i}".`),e=i}finally{(t=this.xfaLayer)!=null&&t.div&&(this.l10n.pause(),c(this,C,it).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),c(this,C,It).call(this,"xfalayerrendered",e)}},ln=async function(){if(!this.textLayer)return;let e=null;try{await this.textLayer.render(this.viewport)}catch(t){if(t instanceof Cr)return;console.error(`#renderTextLayer: "${t}".`),e=t}c(this,C,It).call(this,"textlayerrendered",e),c(this,C,Ns).call(this)},Ns=async function(){var i,n,s;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new Ls);const e=await(this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree()),t=(i=this.structTreeLayer)==null?void 0:i.render(e);t&&(this.l10n.pause(),(n=this.canvas)==null||n.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},Ms=async function(e){const t=await this.pdfPage.getTextContent(),i=[];for(const n of t.items)i.push(n.str);this._textHighlighter.setTextMapping(e,i),this._textHighlighter.enable()},hn=async function(e,t=null){if(e===this.renderTask&&(this.renderTask=null),t instanceof Wi){f(this,Ge,null);return}if(f(this,Ge,t),this.renderingState=B.FINISHED,this._resetZoomLayer(!0),o(this,ce).regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:o(this,Ge)}),t)throw t};async function Xa(r){const e="",t=e.split("#",1)[0];let{info:i,metadata:n,contentDispositionFilename:s,contentLength:a}=await r.getMetadata();if(!a){const{length:l}=await r.getDownloadInfo();a=l}return{...i,baseURL:t,filesize:a,filename:s||Or(e),metadata:n==null?void 0:n.getRaw(),authors:n==null?void 0:n.get("dc:creator"),numPages:r.numPages,URL:e}}class Qa{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var re,Ze,Zt,Xe,Qe,Xt,Z,de,pt,U,te,z,ks,bi,un,Ds,At;class Ja{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){g(this,z);g(this,re,null);g(this,Ze,null);g(this,Zt,null);g(this,Xe,null);g(this,Qe,null);g(this,Xt,null);g(this,Z,null);g(this,de,null);g(this,pt,!1);g(this,U,null);g(this,te,null);f(this,Qe,e),f(this,Xt,t),f(this,Zt,i)}setViewer(e){f(this,de,e)}async setDocument(e){var l;if(o(this,Z)&&await c(this,z,At).call(this),f(this,Z,e),!e)return;const[t,i,n]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!n){await c(this,z,At).call(this);return}if(e!==o(this,Z))return;try{f(this,U,c(this,z,Ds).call(this))}catch(h){console.error(`setDocument: "${h.message}".`),await c(this,z,At).call(this);return}const s=o(this,Qe);f(this,Xe,new AbortController);const{signal:a}=o(this,Xe);s._on("updatefromsandbox",h=>{(h==null?void 0:h.source)===window&&c(this,z,ks).call(this,h.detail)},{signal:a}),s._on("dispatcheventinsandbox",h=>{var u;(u=o(this,U))==null||u.dispatchEventInSandbox(h.detail)},{signal:a}),s._on("pagechanging",({pageNumber:h,previous:u})=>{h!==u&&(c(this,z,un).call(this,u),c(this,z,bi).call(this,h))},{signal:a}),s._on("pagerendered",({pageNumber:h})=>{this._pageOpenPending.has(h)&&h===o(this,de).currentPageNumber&&c(this,z,bi).call(this,h)},{signal:a}),s._on("pagesdestroy",async()=>{var h,u;await c(this,z,un).call(this,o(this,de).currentPageNumber),await((h=o(this,U))==null?void 0:h.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=o(this,re))==null||u.resolve()},{signal:a});try{const h=await o(this,Zt).call(this,e);if(e!==o(this,Z))return;await o(this,U).createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...h,actions:n}}),s.dispatch("sandboxcreated",{source:this})}catch(h){console.error(`setDocument: "${h.message}".`),await c(this,z,At).call(this);return}await((l=o(this,U))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"Open"})),await c(this,z,bi).call(this,o(this,de).currentPageNumber,!0),Promise.resolve().then(()=>{e===o(this,Z)&&f(this,pt,!0)})}async dispatchWillSave(){var e;return(e=o(this,U))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=o(this,U))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(o(this,U)){await((e=o(this,te))==null?void 0:e.promise),f(this,te,Promise.withResolvers());try{await o(this,U).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw o(this,te).resolve(),f(this,te,null),t}await o(this,te).promise}}async dispatchDidPrint(){var e;return(e=o(this,U))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=o(this,Ze))==null?void 0:e.promise)||null}get ready(){return o(this,pt)}get _pageOpenPending(){return yi(this,"_pageOpenPending",new Set)}get _visitedPages(){return yi(this,"_visitedPages",new Map)}}re=new WeakMap,Ze=new WeakMap,Zt=new WeakMap,Xe=new WeakMap,Qe=new WeakMap,Xt=new WeakMap,Z=new WeakMap,de=new WeakMap,pt=new WeakMap,U=new WeakMap,te=new WeakMap,z=new WeakSet,ks=async function(e){var u,d;const t=o(this,de),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:n,siblings:s,command:a,value:l}=e;if(!n){switch(a){case"clear":console.clear();break;case"error":console.error(l);break;case"layout":if(!i){const b=or(l);t.spreadMode=b.spreadMode}break;case"page-num":t.currentPageNumber=l+1;break;case"print":await t.pagesPromise,o(this,Qe).dispatch("print",{source:this});break;case"println":console.log(l);break;case"zoom":i||(t.currentScaleValue=l);break;case"SaveAs":o(this,Qe).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":(u=o(this,te))==null||u.resolve(),f(this,te,null);break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;const h=s?[n,...s]:[n];for(const b of h){const E=document.querySelector(`[data-element-id="${b}"]`);E?E.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=o(this,Z))==null||d.annotationStorage.setValue(b,e)}},bi=async function(e,t=!1){const i=o(this,Z),n=this._visitedPages;if(t&&f(this,re,Promise.withResolvers()),!o(this,re))return;const s=o(this,de).getPageView(e-1);if((s==null?void 0:s.renderingState)!==B.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var h,u;const l=await(n.has(e)?null:(h=s.pdfPage)==null?void 0:h.getJSActions());i===o(this,Z)&&await((u=o(this,U))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:l}))})();n.set(e,a)},un=async function(e){var s;const t=o(this,Z),i=this._visitedPages;if(!o(this,re)||this._pageOpenPending.has(e))return;const n=i.get(e);n&&(i.set(e,null),await n,t===o(this,Z)&&await((s=o(this,U))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},Ds=function(){if(f(this,Ze,Promise.withResolvers()),o(this,U))throw new Error("#initScripting: Scripting already exists.");return o(this,Xt).createScripting()},At=async function(){var e,t,i,n;if(!o(this,U)){f(this,Z,null),(e=o(this,Ze))==null||e.resolve();return}o(this,re)&&(await Promise.race([o(this,re).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),f(this,re,null)),f(this,Z,null);try{await o(this,U).destroySandbox()}catch{}(t=o(this,te))==null||t.reject(new Error("Scripting destroyed.")),f(this,te,null),(i=o(this,Xe))==null||i.abort(),f(this,Xe,null),this._pageOpenPending.clear(),this._visitedPages.clear(),f(this,U,null),f(this,pt,!1),(n=o(this,Ze))==null||n.resolve()};class Ya extends Ja{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new Qa(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>Xa(t)),super(e)}}const qa=3e4;class eo{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),qa)))}getHighestPriority(e,t,i,n=!1){const s=e.views,a=s.length;if(a===0)return null;for(let b=0;b<a;b++){const E=s[b].view;if(!this.isViewFinished(E))return E}const l=e.first.id,h=e.last.id;if(h-l+1>a){const b=e.ids;for(let E=1,R=h-l;E<R;E++){const w=i?l+E:h-E;if(b.has(w))continue;const I=t[w-1];if(!this.isViewFinished(I))return I}}let u=i?h:l-2,d=t[u];return d&&!this.isViewFinished(d)||n&&(u+=i?1:-1,d=t[u],d&&!this.isViewFinished(d))?d:null}isViewFinished(e){return e.renderingState===B.FINISHED}renderView(e){switch(e.renderingState){case B.FINISHED:return!1;case B.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case B.RUNNING:this.highestPriorityPage=e.renderingId;break;case B.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof Wi||console.error(`renderView: "${t}"`)});break}return!0}}const Jn=10,hi={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function Yn(r){return Object.values(we).includes(r)&&r!==we.DISABLE}var fe,Je,Qt,cn;class to{constructor(e){g(this,Qt);g(this,fe,new Set);g(this,Je,0);f(this,Je,e)}push(e){const t=o(this,fe);t.has(e)&&t.delete(e),t.add(e),t.size>o(this,Je)&&c(this,Qt,cn).call(this)}resize(e,t=null){f(this,Je,e);const i=o(this,fe);if(t){const n=i.size;let s=1;for(const a of i)if(t.has(a.id)&&(i.delete(a),i.add(a)),++s>n)break}for(;i.size>o(this,Je);)c(this,Qt,cn).call(this)}has(e){return o(this,fe).has(e)}[Symbol.iterator](){return o(this,fe).keys()}}fe=new WeakMap,Je=new WeakMap,Qt=new WeakSet,cn=function(){const e=o(this,fe).keys().next().value;e==null||e.destroy(),o(this,fe).delete(e)};var Ce,Jt,Yt,pe,G,Ye,qt,ei,ti,ii,qe,ni,gt,Ne,mt,si,bt,et,Me,_t,L,Os,js,Vs,Tt,_i,Bs,dn,Hs,Ee,fn,Us,$s,pn,zs;class Fs{constructor(e){g(this,L);g(this,Ce,null);g(this,Jt,null);g(this,Yt,null);g(this,pe,we.NONE);g(this,G,null);g(this,Ye,ge.ENABLE_FORMS);g(this,qt,null);g(this,ei,!1);g(this,ti,!1);g(this,ii,!1);g(this,qe,null);g(this,ni,null);g(this,gt,!1);g(this,Ne,null);g(this,mt,!1);g(this,si,0);g(this,bt,new ResizeObserver(c(this,L,zs).bind(this)));g(this,et,null);g(this,Me,null);g(this,_t,ae.ENABLE);var n,s;const t="4.4.168";if(Mn!==t)throw new Error(`The API version "${Mn}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,((n=this.container)==null?void 0:n.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");o(this,bt).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new mn,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,f(this,Jt,e.altTextManager||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,f(this,_t,e.textLayerMode??ae.ENABLE),f(this,Ye,e.annotationMode??ge.ENABLE_FORMS),f(this,pe,e.annotationEditorMode??we.NONE),f(this,Yt,e.annotationEditorHighlightColors||null),f(this,ti,e.enableHighlightFloatingButton===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||(this.l10n=new wt),f(this,ii,e.enablePermissions||!1),this.pageColors=e.pageColors||null,f(this,ni,e.mlManager||null),f(this,ei,e.enableHWA||!1),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new eo,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i==null||i.addEventListener("abort",()=>{o(this,bt).disconnect(),f(this,bt,null)},{once:!0}),this.scroll=qs(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=st.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),c(this,L,pn).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:l})=>{const h=this._pages[a-1];o(this,Ce).has(h)||l==null||l.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(o(this,Ce))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return o(this,Ye)===ge.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var n;if(this._currentPageNumber===e)return t&&c(this,L,fn).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((n=this._pageLabels)==null?void 0:n[e-1])??null,previous:i}),t&&c(this,L,fn).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==Ri?this._currentScale:qn}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&c(this,L,Ee).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&c(this,L,Ee).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!ts(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&c(this,L,Ee).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return yi(this,"_layerProperties",{get annotationEditorUIManager(){return o(e,G)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let i=1,n=this.pdfDocument.numPages;i<=n;++i){if(o(this,mt))return null;t.length=0;const s=await this.pdfDocument.getPage(i),{items:a}=await s.getTextContent();for(const l of a)l.str&&t.push(l.str),l.hasEOL&&t.push(`
`);e.push(Ei(t.join("")))}return e.join(`
`)}setDocument(e){var E,R;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(E=this.findController)==null||E.setDocument(null),(R=this._scriptingManager)==null||R.setDocument(null),o(this,G)&&(o(this,G).destroy(),f(this,G,null))),this.pdfDocument=e,!e)return;const t=e.numPages,i=e.getPage(1),n=e.getOptionalContentConfig({intent:"display"}),s=o(this,ii)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:l,viewer:h}=this;f(this,qe,new AbortController);const{signal:u}=o(this,qe);if(t>hi.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const w=this._scrollMode=k.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:w})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=w=>{const I=this._pages[w.pageNumber-1];I&&o(this,Ce).push(I)};a._on("pagerender",d,{signal:u});const b=w=>{w.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:w.timestamp}),a._off("pagerendered",b))};a._on("pagerendered",b,{signal:u}),Promise.all([i,s]).then(([w,I])=>{var v;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(w),this._optionalContentConfigPromise=n;const{annotationEditorMode:j,annotationMode:M,textLayerMode:N}=c(this,L,Os).call(this,I);if(N!==ae.DISABLE){const x=f(this,Ne,document.createElement("div"));x.id="hiddenCopyElement",h.before(x)}if(j!==we.DISABLE){const x=j;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):Yn(x)?(f(this,G,new Mr(this.container,h,o(this,Jt),a,e,l,o(this,Yt),o(this,ti),o(this,ni))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:o(this,G)}),x!==we.NONE&&o(this,G).updateMode(x)):console.error(`Invalid AnnotationEditor mode: ${x}`)}const P=this._scrollMode===k.PAGE?null:h,T=this.currentScale,O=w.getViewport({scale:T*le.PDF_TO_CSS_UNITS});h.style.setProperty("--scale-factor",O.scale),((l==null?void 0:l.foreground)==="CanvasText"||(l==null?void 0:l.background)==="Canvas")&&(h.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),h.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let x=1;x<=t;++x){const D=new Cs({container:P,eventBus:a,id:x,scale:T,defaultViewport:O.clone(),optionalContentConfigPromise:n,renderingQueue:this.renderingQueue,textLayerMode:N,annotationMode:M,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:l,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:o(this,ei)});this._pages.push(D)}(v=this._pages[0])==null||v.setPdfPage(w),this._scrollMode===k.PAGE?c(this,L,Tt).call(this):this._spreadMode!==K.NONE&&this._updateSpreadMode(),c(this,L,js).call(this,u).then(async()=>{var D,m;if(e!==this.pdfDocument)return;if((D=this.findController)==null||D.setDocument(e),(m=this._scriptingManager)==null||m.setDocument(e),o(this,Ne)&&document.addEventListener("copy",c(this,L,Vs).bind(this,N),{signal:u}),o(this,G)&&a.dispatch("annotationeditormodechanged",{source:this,mode:o(this,pe)}),e.loadingParams.disableAutoFetch||t>hi.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let x=t-1;if(x<=0){this._pagesCapability.resolve();return}for(let _=2;_<=t;++_){const S=e.getPage(_).then(F=>{const W=this._pages[_-1];W.pdfPage||W.setPdfPage(F),--x===0&&this._pagesCapability.resolve()},F=>{console.error(`Unable to get page ${_} to initialize viewer`,F),--x===0&&this._pagesCapability.resolve()});_%hi.PAUSE_EAGER_PAGE_INIT===0&&await S}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:x})=>{e===this.pdfDocument&&x.Language&&(h.lang=x.Language)}),this.defaultRenderingQueue&&this.update()}).catch(w=>{console.error("Unable to initialize viewer",w),this._pagesCapability.reject(w)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let i=0,n=this._pages.length;i<n;i++)this._pages[i].setPageLabel(((t=this._pageLabels)==null?void 0:t[i])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=Ri,this._currentScaleValue=null,this._pageLabels=null,f(this,Ce,new to(Jn)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=k.VERTICAL,this._previousScrollMode=k.UNKNOWN,this._spreadMode=K.NONE,f(this,et,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=o(this,qe))==null||e.abort(),f(this,qe,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=o(this,Ne))==null||t.remove(),f(this,Ne,null)}_scrollUpdate(){this.pagesCount!==0&&this.update()}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:n=!1}){if(!this.pdfDocument)return;const s=Number.isInteger(e)&&this._pages[e-1];if(!s){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let a=0,l=0,h=0,u=0,d,b;const E=s.rotation%180!==0,R=(E?s.height:s.width)/s.scale/le.PDF_TO_CSS_UNITS,w=(E?s.width:s.height)/s.scale/le.PDF_TO_CSS_UNITS;let I=0;switch(t[1].name){case"XYZ":a=t[2],l=t[3],I=t[4],a=a!==null?a:0,l=l!==null?l:w;break;case"Fit":case"FitB":I="page-fit";break;case"FitH":case"FitBH":l=t[2],I="page-width",l===null&&this._location?(a=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=w);break;case"FitV":case"FitBV":a=t[2],h=R,u=w,I="page-height";break;case"FitR":a=t[2],l=t[3],h=t[4]-a,u=t[5]-l;let P=yn,T=vn;this.removePageBorders&&(P=T=0),d=(this.container.clientWidth-P)/h/le.PDF_TO_CSS_UNITS,b=(this.container.clientHeight-T)/u/le.PDF_TO_CSS_UNITS,I=Math.min(Math.abs(d),Math.abs(b));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(n||(I&&I!==this._currentScale?this.currentScaleValue=I:this._currentScale===Ri&&(this.currentScaleValue=Zs)),I==="page-fit"&&!t[4]){c(this,L,_i).call(this,s);return}const j=[s.viewport.convertToViewportPoint(a,l),s.viewport.convertToViewportPoint(a+h,l+u)];let M=Math.min(j[0][0],j[1][0]),N=Math.min(j[0][1],j[1][1]);i||(M=Math.max(M,0),N=Math.max(N,0)),c(this,L,_i).call(this,s,{left:M,top:N})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,n=parseFloat(i)===t?Math.round(t*1e4)/100:i,s=e.id,a=this._pages[s-1],l=this.container,h=a.getPagePoint(l.scrollLeft-e.x,l.scrollTop-e.y),u=Math.round(h[0]),d=Math.round(h[1]);let b=`#page=${s}`;this.isInPresentationMode||(b+=`&zoom=${n},${u},${d}`),this._location={pageNumber:s,scale:n,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:b}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;const n=Math.max(Jn,2*i+1);o(this,Ce).resize(n,e.ids),this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===K.NONE&&(this._scrollMode===k.PAGE||this._scrollMode===k.VERTICAL),a=this._currentPageNumber;let l=!1;for(const h of t){if(h.percent<100)break;if(h.id===a&&s){l=!0;break}}this._setCurrentPageNumber(l?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===st.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===st.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===k.PAGE?o(this,et).pages:this._pages,t=this._scrollMode===k.HORIZONTAL,i=t&&this._isContainerRtl;return tr({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(const e of this._pages)e.renderingState!==B.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=c(this,L,$s).call(this,t),n=this._spreadMode!==K.NONE&&this._scrollMode!==k.HORIZONTAL,s=this.renderingQueue.getHighestPriority(t,this._pages,i,n);return s?(c(this,L,Us).call(this,s).then(()=>{this.renderingQueue.renderView(s)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const n=this._pages[t];if(n.width!==e.width||n.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),n=Sn(i);if(e===void 0)e=n;else if(this.enablePrintAutoRotate&&n!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!ir(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>hi.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===k.HORIZONTAL),i.classList.toggle("scrollWrapped",t===k.WRAPPED),!(!this.pdfDocument||!e)&&(t===k.PAGE?c(this,L,Tt).call(this):this._previousScrollMode===k.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&c(this,L,Ee).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!nr(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===k.PAGE)c(this,L,Tt).call(this);else if(t.textContent="",this._spreadMode===K.NONE)for(const n of this._pages)t.append(n.div);else{const n=this._spreadMode-1;let s=null;for(let a=0,l=i.length;a<l;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===n&&(s=s.cloneNode(!1),t.append(s)),s.append(i[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&c(this,L,Ee).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case k.WRAPPED:{const{views:i}=this._getVisiblePages(),n=new Map;for(const{id:s,y:a,percent:l,widthPercent:h}of i){if(l===0||h<100)continue;let u=n.get(a);u||n.set(a,u||(u=[])),u.push(s)}for(const s of n.values()){const a=s.indexOf(e);if(a===-1)continue;const l=s.length;if(l===1)break;if(t)for(let h=a-1,u=0;h>=u;h--){const d=s[h],b=s[h+1]-1;if(d<b)return e-b}else for(let h=a+1,u=l;h<u;h++){const d=s[h],b=s[h-1]+1;if(d>b)return b-e}if(t){const h=s[0];if(h<e)return e-h+1}else{const h=s[l-1];if(h>e)return h-e+1}break}break}case k.HORIZONTAL:break;case k.PAGE:case k.VERTICAL:{if(this._spreadMode===K.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:n}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:l,widthPercent:h}of n)if(a===s){if(l>0&&h===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:n}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(i){const a=i>0?wn:1/wn,l=i>0?Math.ceil:Math.floor;i=Math.abs(i);do s=l((s*a).toFixed(2)*10)/10;while(--i>0)}s=Math.max(Xs,Math.min(Qs,s)),c(this,L,Ee).call(this,s,{noScroll:!1,drawingDelay:e,origin:n})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return o(this,qt)||f(this,qt,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return o(this,G)?o(this,pe):we.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1}){if(!o(this,G))throw new Error("The AnnotationEditor is not enabled.");if(o(this,pe)!==e){if(!Yn(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);this.pdfDocument&&(f(this,pe,e),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:e}),o(this,G).updateMode(e,t,i))}}set annotationEditorParams({type:e,value:t}){if(!o(this,G))throw new Error("The AnnotationEditor is not enabled.");o(this,G).updateParams(e,t)}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);o(this,Me)!==null&&(clearTimeout(o(this,Me)),f(this,Me,null)),e||this.update()}}}Ce=new WeakMap,Jt=new WeakMap,Yt=new WeakMap,pe=new WeakMap,G=new WeakMap,Ye=new WeakMap,qt=new WeakMap,ei=new WeakMap,ti=new WeakMap,ii=new WeakMap,qe=new WeakMap,ni=new WeakMap,gt=new WeakMap,Ne=new WeakMap,mt=new WeakMap,si=new WeakMap,bt=new WeakMap,et=new WeakMap,Me=new WeakMap,_t=new WeakMap,L=new WeakSet,Os=function(e){const t={annotationEditorMode:o(this,pe),annotationMode:o(this,Ye),textLayerMode:o(this,_t)};return e&&(!e.includes(oi.COPY)&&o(this,_t)===ae.ENABLE&&(t.textLayerMode=ae.ENABLE_PERMISSIONS),e.includes(oi.MODIFY_CONTENTS)||(t.annotationEditorMode=we.DISABLE),!e.includes(oi.MODIFY_ANNOTATIONS)&&!e.includes(oi.FILL_INTERACTIVE_FORMS)&&o(this,Ye)===ge.ENABLE_FORMS&&(t.annotationMode=ge.ENABLE)),t},js=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers();function i(){document.visibilityState==="hidden"&&t.resolve()}document.addEventListener("visibilitychange",i,{signal:e}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),document.removeEventListener("visibilitychange",i)},Vs=function(e,t){const i=document.getSelection(),{focusNode:n,anchorNode:s}=i;if(s&&n&&i.containsNode(o(this,Ne))){if(o(this,gt)||e===ae.ENABLE_PERMISSIONS){t.preventDefault(),t.stopPropagation();return}f(this,gt,!0);const{classList:a}=this.viewer;a.add("copyAll");const l=new AbortController;window.addEventListener("keydown",h=>f(this,mt,h.key==="Escape"),{signal:l.signal}),this.getAllText().then(async h=>{h!==null&&await navigator.clipboard.writeText(h)}).catch(h=>{console.warn(`Something goes wrong when extracting the text: ${h.message}`)}).finally(()=>{f(this,gt,!1),f(this,mt,!1),l.abort(),a.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}},Tt=function(){if(this._scrollMode!==k.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=o(this,et),i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===K.NONE&&!this.isInPresentationMode){const n=this._pages[e-1];i.append(n.div),t.pages.push(n)}else{const n=new Set,s=this._spreadMode-1;s===-1?n.add(e-1):e%2!==s?(n.add(e-1),n.add(e)):(n.add(e-2),n.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const l=document.createElement("div");l.className="dummyPage",a.append(l)}for(const l of n){const h=this._pages[l];h&&(a.append(h.div),t.pages.push(h))}i.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},_i=function(e,t=null){const{div:i,id:n}=e;if(this._currentPageNumber!==n&&this._setCurrentPageNumber(n),this._scrollMode===k.PAGE&&(c(this,L,Tt).call(this),this.update()),!t&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,a=s+i.clientWidth,{scrollLeft:l,clientWidth:h}=this.container;(this._scrollMode===k.HORIZONTAL||s<l||a>l+h)&&(t={left:0,top:0})}es(i,t),!this._currentScaleValue&&this._location&&(this._location=null)},Bs=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},dn=function(e,t,{noScroll:i=!1,preset:n=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),c(this,L,Bs).call(this,e)){n&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*le.PDF_TO_CSS_UNITS);const l=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:l?s:-1}),l&&f(this,Me,setTimeout(()=>{f(this,Me,null),this.refresh()},s));const h=this._currentScale;if(this._currentScale=e,!i){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const b=e/h-1,[E,R]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-R)*b,this.container.scrollTop+=(a[1]-E)*b}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:n?t:void 0}),this.defaultRenderingQueue&&this.update()},Hs=function(){return this._spreadMode!==K.NONE&&this._scrollMode!==k.HORIZONTAL?2:1},Ee=function(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,c(this,L,dn).call(this,i,e,t);else{const n=this._pages[this._currentPageNumber-1];if(!n)return;let s=yn,a=vn;this.isInPresentationMode?(s=a=4,this._spreadMode!==K.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===k.HORIZONTAL&&([s,a]=[a,s]);const l=(this.container.clientWidth-s)/n.width*n.scale/o(this,L,Hs),h=(this.container.clientHeight-a)/n.height*n.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=l;break;case"page-height":i=h;break;case"page-fit":i=Math.min(l,h);break;case"auto":const u=Sn(n)?l:Math.min(h,l);i=Math.min(Js,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,c(this,L,dn).call(this,i,e,t)}},fn=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&c(this,L,Ee).call(this,this._currentScaleValue,{noScroll:!0}),c(this,L,_i).call(this,e)},Us=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},$s=function(e){var t,i;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((i=e.last)==null?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case k.PAGE:return o(this,et).scrollDown;case k.HORIZONTAL:return this.scroll.right}return this.scroll.down},pn=function(e=this.container.clientHeight){e!==o(this,si)&&(f(this,si,e),sr.setProperty("--viewer-container-height",`${e}px`))},zs=function(e){for(const t of e)if(t.target===this.container){c(this,L,pn).call(this,Math.floor(t.borderBoxSize[0].blockSize)),f(this,qt,null);break}};class io extends Fs{_resetView(){super._resetView(),this._scrollMode=k.PAGE,this._spreadMode=K.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}var Co=V.AnnotationLayerBuilder,No=V.DownloadManager,Mo=V.EventBus,ko=V.FindState,Do=V.GenericL10n,Fo=V.LinkTarget,Oo=V.PDFFindController,jo=V.PDFHistory,Vo=V.PDFLinkService,Bo=V.PDFPageView,Ho=V.PDFScriptingManager,Uo=V.PDFSinglePageViewer,$o=V.PDFViewer,zo=V.ProgressBar,Wo=V.RenderingStates,Go=V.ScrollMode,Ko=V.SimpleLinkService,Zo=V.SpreadMode,Xo=V.StructTreeLayerBuilder,Qo=V.TextLayerBuilder,Jo=V.XfaLayerBuilder,Yo=V.parseQueryString;export{Co as AnnotationLayerBuilder,No as DownloadManager,Mo as EventBus,ko as FindState,Do as GenericL10n,Fo as LinkTarget,Oo as PDFFindController,jo as PDFHistory,Vo as PDFLinkService,Bo as PDFPageView,Ho as PDFScriptingManager,Uo as PDFSinglePageViewer,$o as PDFViewer,zo as ProgressBar,Wo as RenderingStates,Go as ScrollMode,Ko as SimpleLinkService,Zo as SpreadMode,Xo as StructTreeLayerBuilder,Qo as TextLayerBuilder,Jo as XfaLayerBuilder,Yo as parseQueryString};
